{"filter":false,"title":"script.js","tooltip":"/script.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":226,"column":0},"end":{"row":226,"column":3},"action":"insert","lines":["// "],"id":4018}],[{"start":{"row":33,"column":0},"end":{"row":33,"column":1},"action":"remove","lines":["}"],"id":4019}],[{"start":{"row":25,"column":58},"end":{"row":25,"column":59},"action":"insert","lines":["}"],"id":4020}],[{"start":{"row":25,"column":0},"end":{"row":25,"column":59},"action":"remove","lines":["function show_discipline_selector(transactionCrossFilter){}"],"id":4021}],[{"start":{"row":25,"column":0},"end":{"row":26,"column":1},"action":"remove","lines":[""," "],"id":4022},{"start":{"row":25,"column":0},"end":{"row":26,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":223,"column":0},"end":{"row":224,"column":0},"action":"insert","lines":["",""],"id":4023}],[{"start":{"row":223,"column":0},"end":{"row":224,"column":0},"action":"insert","lines":["",""],"id":4024}],[{"start":{"row":224,"column":0},"end":{"row":224,"column":59},"action":"insert","lines":["function show_discipline_selector(transactionCrossFilter){}"],"id":4025}],[{"start":{"row":224,"column":0},"end":{"row":224,"column":3},"action":"insert","lines":["// "],"id":4026}],[{"start":{"row":23,"column":0},"end":{"row":36,"column":6},"action":"remove","lines":["//function to allow user to select city to view data for","","   let city_dim = transactionCrossFilter.dimension(dc.pluck(\"city\"));","   let group = city_dim.group();","   ","   dc.selectMenu(\"#discipline-selector\")","    .dim(city_dim)","    .group(group);","","","   let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });"],"id":4027}],[{"start":{"row":23,"column":0},"end":{"row":24,"column":3},"action":"remove","lines":["","   "],"id":4028},{"start":{"row":23,"column":0},"end":{"row":24,"column":0},"action":"remove","lines":["",""]},{"start":{"row":23,"column":0},"end":{"row":24,"column":1},"action":"remove","lines":[""," "]},{"start":{"row":23,"column":0},"end":{"row":24,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":207,"column":61},"end":{"row":209,"column":0},"action":"insert","lines":[""," ",""],"id":4029}],[{"start":{"row":208,"column":1},"end":{"row":221,"column":6},"action":"insert","lines":["//function to allow user to select city to view data for","","   let city_dim = transactionCrossFilter.dimension(dc.pluck(\"city\"));","   let group = city_dim.group();","   ","   dc.selectMenu(\"#discipline-selector\")","    .dim(city_dim)","    .group(group);","","","   let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });"],"id":4030}],[{"start":{"row":210,"column":0},"end":{"row":210,"column":3},"action":"insert","lines":["// "],"id":4031},{"start":{"row":211,"column":0},"end":{"row":211,"column":3},"action":"insert","lines":["// "]},{"start":{"row":213,"column":0},"end":{"row":213,"column":3},"action":"insert","lines":["// "]},{"start":{"row":214,"column":0},"end":{"row":214,"column":3},"action":"insert","lines":["// "]},{"start":{"row":215,"column":0},"end":{"row":215,"column":3},"action":"insert","lines":["// "]},{"start":{"row":218,"column":0},"end":{"row":218,"column":3},"action":"insert","lines":["// "]},{"start":{"row":219,"column":0},"end":{"row":219,"column":3},"action":"insert","lines":["// "]},{"start":{"row":220,"column":0},"end":{"row":220,"column":3},"action":"insert","lines":["// "]},{"start":{"row":221,"column":0},"end":{"row":221,"column":3},"action":"insert","lines":["// "]},{"start":{"row":222,"column":0},"end":{"row":222,"column":3},"action":"insert","lines":["// "]}],[{"start":{"row":208,"column":0},"end":{"row":208,"column":57},"action":"remove","lines":[" //function to allow user to select city to view data for"],"id":4032}],[{"start":{"row":206,"column":0},"end":{"row":207,"column":0},"action":"insert","lines":["",""],"id":4033}],[{"start":{"row":207,"column":0},"end":{"row":207,"column":57},"action":"insert","lines":[" //function to allow user to select city to view data for"],"id":4034}],[{"start":{"row":119,"column":0},"end":{"row":120,"column":0},"action":"remove","lines":["",""],"id":4035}],[{"start":{"row":0,"column":0},"end":{"row":203,"column":34},"action":"remove","lines":["","// queue().defer(....).await() <-- this is an illustrated example","","/*global queue*/ ","/*global crossfilter*/","/*global d3*/","/*global dc*/","","","","queue()","// file type        // the relative filepath to the .json file",".defer(d3.json, \"data/uv-index-reference.json\" ) // load in the json file with uv-index references","",".await(makeGraphs);","","function makeGraphs(error, uvIndexData){"," "," // Step 1 - create a cross filter"," let transactionCrossFilter = crossfilter(uvIndexData);  //data from .json stored as uvIndexData"," console.log(uvIndexData);"," "," ","    //Step 2 - ","   // Creating a dimension based on the 'month' property of each data point","","   let month_dim = transactionCrossFilter.dimension(dc.pluck(\"month\"));","","   ","   let uv_reading_per_month = month_dim.group().reduce(","    ","     //Add a fact or data entry","      function(p, v) {","       p.count++;","       p.total += v.uvIndex;","       p.average = p.total / p.count;","       return p;","      },","      ","     //Remove a fact or data entry","      function(p, v) {","      p.count--;","      if (p.count == 0) {","          p.total = 0;","          p.average = 0;","      } else {","          p.total -= v.uvIndex;","          p.average = p.total / p.count;","      }","      return p;","      },     ","     ","      //Initialise the Reducer","      function () {","      return { count: 0, total: 0, average: 0};","      }","   );","   ","   ","   let min_month = month_dim.bottom(1)[0].month;","   let max_month = month_dim.top(1)[0].month;","   ","   // STEP 3 - Do the grouping of dimension by city","   // \"Grouping\" --> summarizing each data point","","    function uv_by_city(city) {","     return function(d) {","         if (d.city === city) {","             return +d.uvIndex;","         } ","         else {","             return 0;","         }","     };","    }",""," ","   ","   // STEP 4 - Do the grouping of dimension by city and color","","  let compositeChart = dc.compositeChart('#line-graph');","  ","  //require 3 arrays. 1: contain over 20 colours; 2: contain all the cities; 3: an array to push all the colours according to each city.","  let cityArray = [","                   //testing the following 3 cities first before adding subsequent cities","                   {\"city\": \"Buenos Aires\", \"color\": '#FF6633'},","                   {\"city\": \"Darwin\", \"color\": '#FFB399'},","                   {\"city\": \"Melbourne\", \"color\": '#FF33FF'},","                   ","                   // {\"city\": \"Sydney\", \"color\": '#FFFF99'},","                   // {\"city\": \"Rio de Janeiro\", \"color\": '#00B3E6'},","                   // {\"city\": \"Vancouver\", \"color\": '#E6B333'},","                   // {\"city\": \"Havana\", \"color\": '#3366E6'},","                   // {\"city\": \"Port Stanley\", \"color\": '#999966'},","                   // {\"city\": \"Paris\", \"color\": \"#99FF99\"},","                   // {\"city\": \"Berlin\", \"color\": \"#80B300\"},","                   // {\"city\": \"Iraklion\", \"color\": \"#B34D4D\"},","                   // {\"city\": \"Tokyo\", \"color\": \"#809900\"},","                   // {\"city\": \"Nairobi\", \"color\": \"#E6B3B3\"},","                   // {\"city\": \"Tananarive\", \"color\": \"#6680B3\"},","                   // {\"city\": \"Maputo\", \"color\": \"#66991A\"},","                   // {\"city\": \"Ulan Bator\", \"color\": \"#FF99E6\"},","                   // {\"city\": \"Wellington\", \"color\": \"#CCFF1A\"},","                   // {\"city\": \"Panama\", \"color\": \"#FF1A66\"},","                   // {\"city\": \"St Petersbourg\", \"color\": \"#E6331A\"},","                   // {\"city\": \"Singapore\", \"color\": \"#33FFCC\"},","                   // {\"city\": \"Cape Town\", \"color\": \"#66994D\"},","                   // {\"city\": \"Palma de Mallorca\", \"color\": \"#B366CC\"},","                   // {\"city\": \"Colombo\", \"color\": \"#4D8000\"},","                   // {\"city\": \"Bangkok\", \"color\": \"#B33300\"},","                   // {\"city\": \"Los Angeles\", \"color\": \"#CC80CC\"},","                   // {\"city\": \"New York\", \"color\": \"#66664D\"},","                   // {\"city\": \"Hanoi\", \"color\": \"#991AFF\"}","                ];  //declaring an array to use when drawing the composite chart","                ","      ","   // let uvOfBuenosAires = month_dim.group().reduceSum(uv_by_city('Buenos Aires'));","   // let uvofDarwin = month_dim.group().reduceSum(uv_by_city('Darwin'));","   ","","    ","     let chartsOfLineCharts = [];","     for (each_city of cityArray){","     let uvOfCities = month_dim.group().reduceSum(uv_by_city(each_city.city)); //pushes the reduceSum of uv index for each city into the array, and grouped by month","     let c = dc.lineChart(compositeChart)  ","           .colors(each_city.color)         ","           .group(uvOfCities, each_city.city);","         ","         chartsOfLineCharts.push(c);","     ","     }","","    console.log(chartsOfLineCharts);","    ","","   //STEP 5 - drawing the graph scales","","   // let charts = [","   //    dc.lineChart(compositeChart)","   //        .colors('green')","   //        .group(uvOfBuenosAires, 'Buenos Aires'),","   //    dc.lineChart(compositeChart)","   //        .colors('red')","   //        .group(uvofDarwin, 'Darwin'),","      ","           // ];","    ","    ","   ","  compositeChart","    .width(500)","    .height(400)","    .margins({top: 10, right: 50, bottom: 30, left: 50})","    .dimension(month_dim)  ","    .group(uv_reading_per_month)","    .valueAccessor(function (d) {","         return d.value.average;","     })","    .transitionDuration(500)    ","    .x(d3.time.scale().domain([min_month,max_month]))","    .xAxisLabel(\"Month\")","    .yAxisLabel(\"UV Index\")","    .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","    .renderHorizontalGridLines(true)    ","    .compose(chartsOfLineCharts)     //    .compose(charts)","    .brushOn(false)","    .render();          ","          ","    // dc.lineChart(\"#line-graph\")","    // .width(500)","    // .height(400)","    // .margins({top: 10, right: 50, bottom: 30, left: 50})","    // .dimension(month_dim)","    // .group(uv_reading_per_month)","    // .valueAccessor(function (d) {","    //      return d.value.average;","    //  })","    // .transitionDuration(500)","    // .x(d3.time.scale().domain([min_month,max_month]))","    // .xAxisLabel(\"Month\")","    // .yAxisLabel(\"UV Index\")","    // .yAxis().ticks(4);","   ","   // below for bar chart appears, but with wrong presentation of data","   // dc.barChart(\"#line-graph\")","   //  .width(800)","   //  .height(400)","   //  .margins({top:10, right:50, bottom:30, left:50})","   //  .dimension(month_dim)","   //  .group(uv_reading_per_month)","   //  .valueAccessor(function (d) {","   //       return d.value.average;","   //   })","   //  .transitionDuration(500)","   //  .x(d3.scale.ordinal())","   //  .xUnits(dc.units.ordinal)","   //  .elasticY(true)","   //  .xAxisLabel(\"Month\")","   //  .yAxisLabel(\"UV Index\")","   //  .yAxis().ticks(13);",""," dc.renderAll();"," ","}    // end of makeGraphs function"],"id":4036},{"start":{"row":0,"column":0},"end":{"row":230,"column":4},"action":"insert","lines":["","// queue().defer(....).await() <-- this is an illustrated example","","/*global queue*/ ","/*global crossfilter*/","/*global d3*/","/*global dc*/","/*global $*/","","","","queue()","// file type        // the relative filepath to the .json file",".defer(d3.json, \"data/uv-index-reference.json\" ) // load in the json file with uv-index references","",".await(makeGraphs);","","function makeGraphs(error, uvIndexData){"," "," // Step 1 - create a cross filter"," let transactionCrossFilter = crossfilter(uvIndexData);  //data from .json stored as uvIndexData"," console.log(uvIndexData);"," "," "," // show_discipline_selector(uvIndexData);",""," ","   let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });","   ",""," ","    //Step 2 - ","   // Creating a dimension based on the 'month' property of each data point","","   let month_dim = transactionCrossFilter.dimension(dc.pluck(\"month\"));","","","","   ","   let uv_reading_per_month = month_dim.group().reduce(","    ","     //Add a fact or data entry","      function(p, v) {","       p.count++;","       p.total += v.uvIndex;","       p.average = p.total / p.count;","       return p;","      },","      ","     //Remove a fact or data entry","      function(p, v) {","      p.count--;","      if (p.count == 0) {","          p.total = 0;","          p.average = 0;","      } else {","          p.total -= v.uvIndex;","          p.average = p.total / p.count;","      }","      return p;","      },     ","     ","      //Initialise the Reducer","      function () {","      return { count: 0, total: 0, average: 0};","      }","   );","   ","   ","   let min_month = month_dim.bottom(1)[0].month;","   let max_month = month_dim.top(1)[0].month;","   ","   // STEP 3 - Do the grouping of dimension by city","   // \"Grouping\" --> summarizing each data point","","    function uv_by_city(city) {","     return function(d) {","         if (d.city === city) {","             return +d.uvIndex;","         } ","         else {","             return 0;","         }","     };","    }",""," ","   ","   // STEP 4 - Do the grouping of dimension by city and color","","  let compositeChart = dc.compositeChart('#line-graph');","  ","  //require 3 arrays. 1: contain over 20 colours; 2: contain all the cities; 3: an array to push all the colours according to each city.","  let cityArray = [","                   //testing the following 3 cities first before adding subsequent cities","                   {\"city\": \"Buenos Aires\", \"color\": '#FF6633'},","                   {\"city\": \"Darwin\", \"color\": '#FFB399'},","                   {\"city\": \"Melbourne\", \"color\": '#FF33FF'},","                   ","                   // {\"city\": \"Sydney\", \"color\": '#FFFF99'},","                   // {\"city\": \"Rio de Janeiro\", \"color\": '#00B3E6'},","                   // {\"city\": \"Vancouver\", \"color\": '#E6B333'},","                   // {\"city\": \"Havana\", \"color\": '#3366E6'},","                   // {\"city\": \"Port Stanley\", \"color\": '#999966'},","                   // {\"city\": \"Paris\", \"color\": \"#99FF99\"},","                   // {\"city\": \"Berlin\", \"color\": \"#80B300\"},","                   // {\"city\": \"Iraklion\", \"color\": \"#B34D4D\"},","                   // {\"city\": \"Tokyo\", \"color\": \"#809900\"},","                   // {\"city\": \"Nairobi\", \"color\": \"#E6B3B3\"},","                   // {\"city\": \"Tananarive\", \"color\": \"#6680B3\"},","                   // {\"city\": \"Maputo\", \"color\": \"#66991A\"},","                   // {\"city\": \"Ulan Bator\", \"color\": \"#FF99E6\"},","                   // {\"city\": \"Wellington\", \"color\": \"#CCFF1A\"},","                   // {\"city\": \"Panama\", \"color\": \"#FF1A66\"},","                   // {\"city\": \"St Petersbourg\", \"color\": \"#E6331A\"},","                   // {\"city\": \"Singapore\", \"color\": \"#33FFCC\"},","                   // {\"city\": \"Cape Town\", \"color\": \"#66994D\"},","                   // {\"city\": \"Palma de Mallorca\", \"color\": \"#B366CC\"},","                   // {\"city\": \"Colombo\", \"color\": \"#4D8000\"},","                   // {\"city\": \"Bangkok\", \"color\": \"#B33300\"},","                   // {\"city\": \"Los Angeles\", \"color\": \"#CC80CC\"},","                   // {\"city\": \"New York\", \"color\": \"#66664D\"},","                   // {\"city\": \"Hanoi\", \"color\": \"#991AFF\"}","                ];  //declaring an array to use when drawing the composite chart","                ","      ","   // let uvOfBuenosAires = month_dim.group().reduceSum(uv_by_city('Buenos Aires'));","   // let uvofDarwin = month_dim.group().reduceSum(uv_by_city('Darwin'));","   ","","","    ","     let chartsOfLineCharts = [];","     for (each_city of cityArray){","     let uvOfCities = month_dim.group().reduceSum(uv_by_city(each_city.city)); //pushes the reduceSum of uv index for each city into the array, and grouped by month","     let c = dc.lineChart(compositeChart)  ","           .colors(each_city.color)         ","           .group(uvOfCities, each_city.city);","         ","         chartsOfLineCharts.push(c);","     ","     }","","    console.log(chartsOfLineCharts);","    ","","   //STEP 5 - drawing the graph scales","","   // let charts = [","   //    dc.lineChart(compositeChart)","   //        .colors('green')","   //        .group(uvOfBuenosAires, 'Buenos Aires'),","   //    dc.lineChart(compositeChart)","   //        .colors('red')","   //        .group(uvofDarwin, 'Darwin'),","      ","           // ];","    ","    ","   ","  compositeChart","    .width(500)","    .height(400)","    .margins({top: 10, right: 50, bottom: 30, left: 50})","    .dimension(month_dim)  ","    .group(uv_reading_per_month)","    .valueAccessor(function (d) {","         return d.value.average;","     })","    .transitionDuration(500)    ","    .x(d3.time.scale().domain([min_month,max_month]))","    .xAxisLabel(\"Month\")","    .yAxisLabel(\"UV Index\")","    .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","    .renderHorizontalGridLines(true)    ","    .compose(chartsOfLineCharts)     //    .compose(charts)","    .brushOn(false)","    .render();          ","          ","    // dc.lineChart(\"#line-graph\")","    // .width(500)","    // .height(400)","    // .margins({top: 10, right: 50, bottom: 30, left: 50})","    // .dimension(month_dim)","    // .group(uv_reading_per_month)","    // .valueAccessor(function (d) {","    //      return d.value.average;","    //  })","    // .transitionDuration(500)","    // .x(d3.time.scale().domain([min_month,max_month]))","    // .xAxisLabel(\"Month\")","    // .yAxisLabel(\"UV Index\")","    // .yAxis().ticks(4);","   ","   // below for bar chart appears, but with wrong presentation of data","   // dc.barChart(\"#line-graph\")","   //  .width(800)","   //  .height(400)","   //  .margins({top:10, right:50, bottom:30, left:50})","   //  .dimension(month_dim)","   //  .group(uv_reading_per_month)","   //  .valueAccessor(function (d) {","   //       return d.value.average;","   //   })","   //  .transitionDuration(500)","   //  .x(d3.scale.ordinal())","   //  .xUnits(dc.units.ordinal)","   //  .elasticY(true)","   //  .xAxisLabel(\"Month\")","   //  .yAxisLabel(\"UV Index\")","   //  .yAxis().ticks(13);"," "," dc.renderAll();"," ","}    // end of makeGraphs function","","function show_discipline_selector(uvIndexData){"," ","   city_dim = transactionCrossFilter.dimension(dc.pluck(\"city\"));","   let group = dim.group(uv_reading_per_month);","   dc.selectMenu(\"#discipline-selector\")","    .dim(city_dim)","    .group(group);","}","","","// function show_uv_readings(transactionCrossFilter){","// }"]}],[{"start":{"row":38,"column":0},"end":{"row":39,"column":0},"action":"remove","lines":["",""],"id":4037},{"start":{"row":38,"column":0},"end":{"row":39,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":38,"column":0},"end":{"row":39,"column":3},"action":"remove","lines":["","   "],"id":4038}],[{"start":{"row":38,"column":0},"end":{"row":38,"column":1},"action":"insert","lines":["\\"],"id":4039}],[{"start":{"row":38,"column":1},"end":{"row":39,"column":0},"action":"remove","lines":["",""],"id":4040},{"start":{"row":38,"column":1},"end":{"row":38,"column":2},"action":"remove","lines":[" "]}],[{"start":{"row":38,"column":0},"end":{"row":38,"column":1},"action":"remove","lines":["\\"],"id":4041}],[{"start":{"row":38,"column":0},"end":{"row":38,"column":1},"action":"insert","lines":[" "],"id":4042}],[{"start":{"row":38,"column":1},"end":{"row":38,"column":2},"action":"insert","lines":["\\"],"id":4043}],[{"start":{"row":38,"column":2},"end":{"row":38,"column":3},"action":"remove","lines":[" "],"id":4044}],[{"start":{"row":38,"column":1},"end":{"row":38,"column":2},"action":"remove","lines":["\\"],"id":4045}],[{"start":{"row":38,"column":1},"end":{"row":38,"column":2},"action":"insert","lines":[" "],"id":4046}],[{"start":{"row":38,"column":0},"end":{"row":39,"column":0},"action":"insert","lines":["",""],"id":4047}],[{"start":{"row":218,"column":3},"end":{"row":218,"column":4},"action":"insert","lines":["l"],"id":4048},{"start":{"row":218,"column":4},"end":{"row":218,"column":5},"action":"insert","lines":["e"]},{"start":{"row":218,"column":5},"end":{"row":218,"column":6},"action":"insert","lines":["t"]}],[{"start":{"row":218,"column":6},"end":{"row":218,"column":7},"action":"insert","lines":[" "],"id":4049}],[{"start":{"row":24,"column":29},"end":{"row":24,"column":40},"action":"remove","lines":["uvIndexData"],"id":4050},{"start":{"row":24,"column":29},"end":{"row":24,"column":30},"action":"insert","lines":["t"]},{"start":{"row":24,"column":30},"end":{"row":24,"column":31},"action":"insert","lines":["r"]},{"start":{"row":24,"column":31},"end":{"row":24,"column":32},"action":"insert","lines":["a"]},{"start":{"row":24,"column":32},"end":{"row":24,"column":33},"action":"insert","lines":["n"]},{"start":{"row":24,"column":33},"end":{"row":24,"column":34},"action":"insert","lines":["s"]},{"start":{"row":24,"column":34},"end":{"row":24,"column":35},"action":"insert","lines":["a"]},{"start":{"row":24,"column":35},"end":{"row":24,"column":36},"action":"insert","lines":["c"]},{"start":{"row":24,"column":36},"end":{"row":24,"column":37},"action":"insert","lines":["t"]},{"start":{"row":24,"column":37},"end":{"row":24,"column":38},"action":"insert","lines":["i"]},{"start":{"row":24,"column":38},"end":{"row":24,"column":39},"action":"insert","lines":["o"]},{"start":{"row":24,"column":39},"end":{"row":24,"column":40},"action":"insert","lines":["n"]}],[{"start":{"row":24,"column":40},"end":{"row":24,"column":41},"action":"insert","lines":["C"],"id":4051},{"start":{"row":24,"column":41},"end":{"row":24,"column":42},"action":"insert","lines":["r"]},{"start":{"row":24,"column":42},"end":{"row":24,"column":43},"action":"insert","lines":["o"]},{"start":{"row":24,"column":43},"end":{"row":24,"column":44},"action":"insert","lines":["s"]},{"start":{"row":24,"column":44},"end":{"row":24,"column":45},"action":"insert","lines":["s"]},{"start":{"row":24,"column":45},"end":{"row":24,"column":46},"action":"insert","lines":["F"]},{"start":{"row":24,"column":46},"end":{"row":24,"column":47},"action":"insert","lines":["i"]},{"start":{"row":24,"column":47},"end":{"row":24,"column":48},"action":"insert","lines":["l"]},{"start":{"row":24,"column":48},"end":{"row":24,"column":49},"action":"insert","lines":["t"]},{"start":{"row":24,"column":49},"end":{"row":24,"column":50},"action":"insert","lines":["e"]},{"start":{"row":24,"column":50},"end":{"row":24,"column":51},"action":"insert","lines":["r"]}],[{"start":{"row":24,"column":1},"end":{"row":24,"column":4},"action":"remove","lines":["// "],"id":4052}],[{"start":{"row":24,"column":1},"end":{"row":24,"column":4},"action":"insert","lines":["// "],"id":4053}],[{"start":{"row":24,"column":1},"end":{"row":24,"column":4},"action":"remove","lines":["// "],"id":4054}],[{"start":{"row":24,"column":1},"end":{"row":24,"column":4},"action":"insert","lines":["// "],"id":4065}],[{"start":{"row":219,"column":25},"end":{"row":219,"column":45},"action":"remove","lines":["uv_reading_per_month"],"id":4066}],[{"start":{"row":24,"column":1},"end":{"row":24,"column":4},"action":"remove","lines":["// "],"id":4067}],[{"start":{"row":219,"column":15},"end":{"row":219,"column":16},"action":"insert","lines":["c"],"id":4070},{"start":{"row":219,"column":16},"end":{"row":219,"column":17},"action":"insert","lines":["i"]},{"start":{"row":219,"column":17},"end":{"row":219,"column":18},"action":"insert","lines":["t"]},{"start":{"row":219,"column":18},"end":{"row":219,"column":19},"action":"insert","lines":["y"]},{"start":{"row":219,"column":19},"end":{"row":219,"column":20},"action":"insert","lines":["_"]}],[{"start":{"row":216,"column":34},"end":{"row":216,"column":45},"action":"remove","lines":["uvIndexData"],"id":4073},{"start":{"row":216,"column":34},"end":{"row":216,"column":35},"action":"insert","lines":["t"]},{"start":{"row":216,"column":35},"end":{"row":216,"column":36},"action":"insert","lines":["r"]},{"start":{"row":216,"column":36},"end":{"row":216,"column":37},"action":"insert","lines":["a"]},{"start":{"row":216,"column":37},"end":{"row":216,"column":38},"action":"insert","lines":["n"]},{"start":{"row":216,"column":38},"end":{"row":216,"column":39},"action":"insert","lines":["s"]},{"start":{"row":216,"column":39},"end":{"row":216,"column":40},"action":"insert","lines":["a"]},{"start":{"row":216,"column":40},"end":{"row":216,"column":41},"action":"insert","lines":["c"]},{"start":{"row":216,"column":41},"end":{"row":216,"column":42},"action":"insert","lines":["t"]},{"start":{"row":216,"column":42},"end":{"row":216,"column":43},"action":"insert","lines":["i"]},{"start":{"row":216,"column":43},"end":{"row":216,"column":44},"action":"insert","lines":["o"]},{"start":{"row":216,"column":44},"end":{"row":216,"column":45},"action":"insert","lines":["n"]},{"start":{"row":216,"column":45},"end":{"row":216,"column":46},"action":"insert","lines":["C"]},{"start":{"row":216,"column":46},"end":{"row":216,"column":47},"action":"insert","lines":["r"]}],[{"start":{"row":216,"column":47},"end":{"row":216,"column":48},"action":"insert","lines":["o"],"id":4074},{"start":{"row":216,"column":48},"end":{"row":216,"column":49},"action":"insert","lines":["s"]},{"start":{"row":216,"column":49},"end":{"row":216,"column":50},"action":"insert","lines":["s"]},{"start":{"row":216,"column":50},"end":{"row":216,"column":51},"action":"insert","lines":["F"]},{"start":{"row":216,"column":51},"end":{"row":216,"column":52},"action":"insert","lines":["i"]},{"start":{"row":216,"column":52},"end":{"row":216,"column":53},"action":"insert","lines":["l"]},{"start":{"row":216,"column":53},"end":{"row":216,"column":54},"action":"insert","lines":["t"]},{"start":{"row":216,"column":54},"end":{"row":216,"column":55},"action":"insert","lines":["e"]},{"start":{"row":216,"column":55},"end":{"row":216,"column":56},"action":"insert","lines":["r"]}],[{"start":{"row":221,"column":8},"end":{"row":221,"column":9},"action":"insert","lines":["e"],"id":4078},{"start":{"row":221,"column":9},"end":{"row":221,"column":10},"action":"insert","lines":["n"]},{"start":{"row":221,"column":10},"end":{"row":221,"column":11},"action":"insert","lines":["s"]},{"start":{"row":221,"column":11},"end":{"row":221,"column":12},"action":"insert","lines":["i"]},{"start":{"row":221,"column":12},"end":{"row":221,"column":13},"action":"insert","lines":["o"]},{"start":{"row":221,"column":13},"end":{"row":221,"column":14},"action":"insert","lines":["n"]}],[{"start":{"row":226,"column":17},"end":{"row":226,"column":28},"action":"remove","lines":["uv_readings"],"id":4079},{"start":{"row":226,"column":17},"end":{"row":226,"column":18},"action":"insert","lines":["g"]},{"start":{"row":226,"column":18},"end":{"row":226,"column":19},"action":"insert","lines":["r"]},{"start":{"row":226,"column":19},"end":{"row":226,"column":20},"action":"insert","lines":["a"]},{"start":{"row":226,"column":20},"end":{"row":226,"column":21},"action":"insert","lines":["p"]},{"start":{"row":226,"column":21},"end":{"row":226,"column":22},"action":"insert","lines":["h"]}],[{"start":{"row":226,"column":21},"end":{"row":226,"column":22},"action":"remove","lines":["h"],"id":4080},{"start":{"row":226,"column":20},"end":{"row":226,"column":21},"action":"remove","lines":["p"]},{"start":{"row":226,"column":19},"end":{"row":226,"column":20},"action":"remove","lines":["a"]},{"start":{"row":226,"column":18},"end":{"row":226,"column":19},"action":"remove","lines":["r"]},{"start":{"row":226,"column":17},"end":{"row":226,"column":18},"action":"remove","lines":["g"]}],[{"start":{"row":226,"column":17},"end":{"row":226,"column":18},"action":"insert","lines":["g"],"id":4081},{"start":{"row":226,"column":18},"end":{"row":226,"column":19},"action":"insert","lines":["r"]},{"start":{"row":226,"column":19},"end":{"row":226,"column":20},"action":"insert","lines":["a"]},{"start":{"row":226,"column":20},"end":{"row":226,"column":21},"action":"insert","lines":["p"]},{"start":{"row":226,"column":21},"end":{"row":226,"column":22},"action":"insert","lines":["h"]},{"start":{"row":226,"column":22},"end":{"row":226,"column":23},"action":"insert","lines":["s"]}],[{"start":{"row":226,"column":23},"end":{"row":226,"column":24},"action":"insert","lines":[" "],"id":4082},{"start":{"row":226,"column":24},"end":{"row":226,"column":25},"action":"insert","lines":["b"]}],[{"start":{"row":226,"column":24},"end":{"row":226,"column":25},"action":"remove","lines":["b"],"id":4083},{"start":{"row":226,"column":23},"end":{"row":226,"column":24},"action":"remove","lines":[" "]}],[{"start":{"row":226,"column":23},"end":{"row":226,"column":24},"action":"insert","lines":["_"],"id":4084},{"start":{"row":226,"column":24},"end":{"row":226,"column":25},"action":"insert","lines":["b"]},{"start":{"row":226,"column":25},"end":{"row":226,"column":26},"action":"insert","lines":["y"]},{"start":{"row":226,"column":26},"end":{"row":226,"column":27},"action":"insert","lines":["_"]},{"start":{"row":226,"column":27},"end":{"row":226,"column":28},"action":"insert","lines":["c"]},{"start":{"row":226,"column":28},"end":{"row":226,"column":29},"action":"insert","lines":["i"]},{"start":{"row":226,"column":29},"end":{"row":226,"column":30},"action":"insert","lines":["t"]},{"start":{"row":226,"column":30},"end":{"row":226,"column":31},"action":"insert","lines":["y"]}],[{"start":{"row":27,"column":0},"end":{"row":210,"column":26},"action":"remove","lines":["   let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });","   ",""," ","    //Step 2 - ","   // Creating a dimension based on the 'month' property of each data point","","   let month_dim = transactionCrossFilter.dimension(dc.pluck(\"month\"));","","   let uv_reading_per_month = month_dim.group().reduce(","    ","     //Add a fact or data entry","      function(p, v) {","       p.count++;","       p.total += v.uvIndex;","       p.average = p.total / p.count;","       return p;","      },","      ","     //Remove a fact or data entry","      function(p, v) {","      p.count--;","      if (p.count == 0) {","          p.total = 0;","          p.average = 0;","      } else {","          p.total -= v.uvIndex;","          p.average = p.total / p.count;","      }","      return p;","      },     ","     ","      //Initialise the Reducer","      function () {","      return { count: 0, total: 0, average: 0};","      }","   );","   ","   ","   let min_month = month_dim.bottom(1)[0].month;","   let max_month = month_dim.top(1)[0].month;","   ","   // STEP 3 - Do the grouping of dimension by city","   // \"Grouping\" --> summarizing each data point","","    function uv_by_city(city) {","     return function(d) {","         if (d.city === city) {","             return +d.uvIndex;","         } ","         else {","             return 0;","         }","     };","    }",""," ","   ","   // STEP 4 - Do the grouping of dimension by city and color","","  let compositeChart = dc.compositeChart('#line-graph');","  ","  //require 3 arrays. 1: contain over 20 colours; 2: contain all the cities; 3: an array to push all the colours according to each city.","  let cityArray = [","                   //testing the following 3 cities first before adding subsequent cities","                   {\"city\": \"Buenos Aires\", \"color\": '#FF6633'},","                   {\"city\": \"Darwin\", \"color\": '#FFB399'},","                   {\"city\": \"Melbourne\", \"color\": '#FF33FF'},","                   ","                   // {\"city\": \"Sydney\", \"color\": '#FFFF99'},","                   // {\"city\": \"Rio de Janeiro\", \"color\": '#00B3E6'},","                   // {\"city\": \"Vancouver\", \"color\": '#E6B333'},","                   // {\"city\": \"Havana\", \"color\": '#3366E6'},","                   // {\"city\": \"Port Stanley\", \"color\": '#999966'},","                   // {\"city\": \"Paris\", \"color\": \"#99FF99\"},","                   // {\"city\": \"Berlin\", \"color\": \"#80B300\"},","                   // {\"city\": \"Iraklion\", \"color\": \"#B34D4D\"},","                   // {\"city\": \"Tokyo\", \"color\": \"#809900\"},","                   // {\"city\": \"Nairobi\", \"color\": \"#E6B3B3\"},","                   // {\"city\": \"Tananarive\", \"color\": \"#6680B3\"},","                   // {\"city\": \"Maputo\", \"color\": \"#66991A\"},","                   // {\"city\": \"Ulan Bator\", \"color\": \"#FF99E6\"},","                   // {\"city\": \"Wellington\", \"color\": \"#CCFF1A\"},","                   // {\"city\": \"Panama\", \"color\": \"#FF1A66\"},","                   // {\"city\": \"St Petersbourg\", \"color\": \"#E6331A\"},","                   // {\"city\": \"Singapore\", \"color\": \"#33FFCC\"},","                   // {\"city\": \"Cape Town\", \"color\": \"#66994D\"},","                   // {\"city\": \"Palma de Mallorca\", \"color\": \"#B366CC\"},","                   // {\"city\": \"Colombo\", \"color\": \"#4D8000\"},","                   // {\"city\": \"Bangkok\", \"color\": \"#B33300\"},","                   // {\"city\": \"Los Angeles\", \"color\": \"#CC80CC\"},","                   // {\"city\": \"New York\", \"color\": \"#66664D\"},","                   // {\"city\": \"Hanoi\", \"color\": \"#991AFF\"}","                ];  //declaring an array to use when drawing the composite chart","                ","      ","   // let uvOfBuenosAires = month_dim.group().reduceSum(uv_by_city('Buenos Aires'));","   // let uvofDarwin = month_dim.group().reduceSum(uv_by_city('Darwin'));","   ","","","    ","     let chartsOfLineCharts = [];","     for (each_city of cityArray){","     let uvOfCities = month_dim.group().reduceSum(uv_by_city(each_city.city)); //pushes the reduceSum of uv index for each city into the array, and grouped by month","     let c = dc.lineChart(compositeChart)  ","           .colors(each_city.color)         ","           .group(uvOfCities, each_city.city);","         ","         chartsOfLineCharts.push(c);","     ","     }","","    console.log(chartsOfLineCharts);","    ","","   //STEP 5 - drawing the graph scales","","   // let charts = [","   //    dc.lineChart(compositeChart)","   //        .colors('green')","   //        .group(uvOfBuenosAires, 'Buenos Aires'),","   //    dc.lineChart(compositeChart)","   //        .colors('red')","   //        .group(uvofDarwin, 'Darwin'),","      ","           // ];","    ","    ","   ","  compositeChart","    .width(500)","    .height(400)","    .margins({top: 10, right: 50, bottom: 30, left: 50})","    .dimension(month_dim)  ","    .group(uv_reading_per_month)","    .valueAccessor(function (d) {","         return d.value.average;","     })","    .transitionDuration(500)    ","    .x(d3.time.scale().domain([min_month,max_month]))","    .xAxisLabel(\"Month\")","    .yAxisLabel(\"UV Index\")","    .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","    .renderHorizontalGridLines(true)    ","    .compose(chartsOfLineCharts)     //    .compose(charts)","    .brushOn(false)","    .render();          ","          ","    // dc.lineChart(\"#line-graph\")","    // .width(500)","    // .height(400)","    // .margins({top: 10, right: 50, bottom: 30, left: 50})","    // .dimension(month_dim)","    // .group(uv_reading_per_month)","    // .valueAccessor(function (d) {","    //      return d.value.average;","    //  })","    // .transitionDuration(500)","    // .x(d3.time.scale().domain([min_month,max_month]))","    // .xAxisLabel(\"Month\")","    // .yAxisLabel(\"UV Index\")","    // .yAxis().ticks(4);","   ","   // below for bar chart appears, but with wrong presentation of data","   // dc.barChart(\"#line-graph\")","   //  .width(800)","   //  .height(400)","   //  .margins({top:10, right:50, bottom:30, left:50})","   //  .dimension(month_dim)","   //  .group(uv_reading_per_month)","   //  .valueAccessor(function (d) {","   //       return d.value.average;","   //   })","   //  .transitionDuration(500)","   //  .x(d3.scale.ordinal())","   //  .xUnits(dc.units.ordinal)","   //  .elasticY(true)","   //  .xAxisLabel(\"Month\")","   //  .yAxisLabel(\"UV Index\")","   //  .yAxis().ticks(13);"],"id":4085}],[{"start":{"row":65,"column":53},"end":{"row":67,"column":0},"action":"insert","lines":[""," ",""],"id":4086}],[{"start":{"row":66,"column":1},"end":{"row":249,"column":26},"action":"insert","lines":["   let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });","   ",""," ","    //Step 2 - ","   // Creating a dimension based on the 'month' property of each data point","","   let month_dim = transactionCrossFilter.dimension(dc.pluck(\"month\"));","","   let uv_reading_per_month = month_dim.group().reduce(","    ","     //Add a fact or data entry","      function(p, v) {","       p.count++;","       p.total += v.uvIndex;","       p.average = p.total / p.count;","       return p;","      },","      ","     //Remove a fact or data entry","      function(p, v) {","      p.count--;","      if (p.count == 0) {","          p.total = 0;","          p.average = 0;","      } else {","          p.total -= v.uvIndex;","          p.average = p.total / p.count;","      }","      return p;","      },     ","     ","      //Initialise the Reducer","      function () {","      return { count: 0, total: 0, average: 0};","      }","   );","   ","   ","   let min_month = month_dim.bottom(1)[0].month;","   let max_month = month_dim.top(1)[0].month;","   ","   // STEP 3 - Do the grouping of dimension by city","   // \"Grouping\" --> summarizing each data point","","    function uv_by_city(city) {","     return function(d) {","         if (d.city === city) {","             return +d.uvIndex;","         } ","         else {","             return 0;","         }","     };","    }",""," ","   ","   // STEP 4 - Do the grouping of dimension by city and color","","  let compositeChart = dc.compositeChart('#line-graph');","  ","  //require 3 arrays. 1: contain over 20 colours; 2: contain all the cities; 3: an array to push all the colours according to each city.","  let cityArray = [","                   //testing the following 3 cities first before adding subsequent cities","                   {\"city\": \"Buenos Aires\", \"color\": '#FF6633'},","                   {\"city\": \"Darwin\", \"color\": '#FFB399'},","                   {\"city\": \"Melbourne\", \"color\": '#FF33FF'},","                   ","                   // {\"city\": \"Sydney\", \"color\": '#FFFF99'},","                   // {\"city\": \"Rio de Janeiro\", \"color\": '#00B3E6'},","                   // {\"city\": \"Vancouver\", \"color\": '#E6B333'},","                   // {\"city\": \"Havana\", \"color\": '#3366E6'},","                   // {\"city\": \"Port Stanley\", \"color\": '#999966'},","                   // {\"city\": \"Paris\", \"color\": \"#99FF99\"},","                   // {\"city\": \"Berlin\", \"color\": \"#80B300\"},","                   // {\"city\": \"Iraklion\", \"color\": \"#B34D4D\"},","                   // {\"city\": \"Tokyo\", \"color\": \"#809900\"},","                   // {\"city\": \"Nairobi\", \"color\": \"#E6B3B3\"},","                   // {\"city\": \"Tananarive\", \"color\": \"#6680B3\"},","                   // {\"city\": \"Maputo\", \"color\": \"#66991A\"},","                   // {\"city\": \"Ulan Bator\", \"color\": \"#FF99E6\"},","                   // {\"city\": \"Wellington\", \"color\": \"#CCFF1A\"},","                   // {\"city\": \"Panama\", \"color\": \"#FF1A66\"},","                   // {\"city\": \"St Petersbourg\", \"color\": \"#E6331A\"},","                   // {\"city\": \"Singapore\", \"color\": \"#33FFCC\"},","                   // {\"city\": \"Cape Town\", \"color\": \"#66994D\"},","                   // {\"city\": \"Palma de Mallorca\", \"color\": \"#B366CC\"},","                   // {\"city\": \"Colombo\", \"color\": \"#4D8000\"},","                   // {\"city\": \"Bangkok\", \"color\": \"#B33300\"},","                   // {\"city\": \"Los Angeles\", \"color\": \"#CC80CC\"},","                   // {\"city\": \"New York\", \"color\": \"#66664D\"},","                   // {\"city\": \"Hanoi\", \"color\": \"#991AFF\"}","                ];  //declaring an array to use when drawing the composite chart","                ","      ","   // let uvOfBuenosAires = month_dim.group().reduceSum(uv_by_city('Buenos Aires'));","   // let uvofDarwin = month_dim.group().reduceSum(uv_by_city('Darwin'));","   ","","","    ","     let chartsOfLineCharts = [];","     for (each_city of cityArray){","     let uvOfCities = month_dim.group().reduceSum(uv_by_city(each_city.city)); //pushes the reduceSum of uv index for each city into the array, and grouped by month","     let c = dc.lineChart(compositeChart)  ","           .colors(each_city.color)         ","           .group(uvOfCities, each_city.city);","         ","         chartsOfLineCharts.push(c);","     ","     }","","    console.log(chartsOfLineCharts);","    ","","   //STEP 5 - drawing the graph scales","","   // let charts = [","   //    dc.lineChart(compositeChart)","   //        .colors('green')","   //        .group(uvOfBuenosAires, 'Buenos Aires'),","   //    dc.lineChart(compositeChart)","   //        .colors('red')","   //        .group(uvofDarwin, 'Darwin'),","      ","           // ];","    ","    ","   ","  compositeChart","    .width(500)","    .height(400)","    .margins({top: 10, right: 50, bottom: 30, left: 50})","    .dimension(month_dim)  ","    .group(uv_reading_per_month)","    .valueAccessor(function (d) {","         return d.value.average;","     })","    .transitionDuration(500)    ","    .x(d3.time.scale().domain([min_month,max_month]))","    .xAxisLabel(\"Month\")","    .yAxisLabel(\"UV Index\")","    .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","    .renderHorizontalGridLines(true)    ","    .compose(chartsOfLineCharts)     //    .compose(charts)","    .brushOn(false)","    .render();          ","          ","    // dc.lineChart(\"#line-graph\")","    // .width(500)","    // .height(400)","    // .margins({top: 10, right: 50, bottom: 30, left: 50})","    // .dimension(month_dim)","    // .group(uv_reading_per_month)","    // .valueAccessor(function (d) {","    //      return d.value.average;","    //  })","    // .transitionDuration(500)","    // .x(d3.time.scale().domain([min_month,max_month]))","    // .xAxisLabel(\"Month\")","    // .yAxisLabel(\"UV Index\")","    // .yAxis().ticks(4);","   ","   // below for bar chart appears, but with wrong presentation of data","   // dc.barChart(\"#line-graph\")","   //  .width(800)","   //  .height(400)","   //  .margins({top:10, right:50, bottom:30, left:50})","   //  .dimension(month_dim)","   //  .group(uv_reading_per_month)","   //  .valueAccessor(function (d) {","   //       return d.value.average;","   //   })","   //  .transitionDuration(500)","   //  .x(d3.scale.ordinal())","   //  .xUnits(dc.units.ordinal)","   //  .elasticY(true)","   //  .xAxisLabel(\"Month\")","   //  .yAxisLabel(\"UV Index\")","   //  .yAxis().ticks(13);"],"id":4087}],[{"start":{"row":249,"column":26},"end":{"row":250,"column":0},"action":"insert","lines":["",""],"id":4088},{"start":{"row":250,"column":0},"end":{"row":250,"column":3},"action":"insert","lines":["   "]}],[{"start":{"row":251,"column":1},"end":{"row":251,"column":2},"action":"insert","lines":[" "],"id":4089}],[{"start":{"row":251,"column":2},"end":{"row":251,"column":3},"action":"insert","lines":[" "],"id":4090}],[{"start":{"row":251,"column":3},"end":{"row":251,"column":4},"action":"insert","lines":["/"],"id":4091},{"start":{"row":251,"column":4},"end":{"row":251,"column":5},"action":"insert","lines":["/"]},{"start":{"row":251,"column":5},"end":{"row":251,"column":6},"action":"insert","lines":["r"]}],[{"start":{"row":251,"column":5},"end":{"row":251,"column":6},"action":"remove","lines":["r"],"id":4092}],[{"start":{"row":251,"column":5},"end":{"row":251,"column":6},"action":"insert","lines":["e"],"id":4093},{"start":{"row":251,"column":6},"end":{"row":251,"column":7},"action":"insert","lines":["n"]},{"start":{"row":251,"column":7},"end":{"row":251,"column":8},"action":"insert","lines":["d"]}],[{"start":{"row":251,"column":8},"end":{"row":251,"column":9},"action":"insert","lines":[" "],"id":4094},{"start":{"row":251,"column":9},"end":{"row":251,"column":10},"action":"insert","lines":["o"]},{"start":{"row":251,"column":10},"end":{"row":251,"column":11},"action":"insert","lines":["f"]}],[{"start":{"row":251,"column":11},"end":{"row":251,"column":12},"action":"insert","lines":[" "],"id":4095}],[{"start":{"row":65,"column":0},"end":{"row":65,"column":3},"action":"remove","lines":["// "],"id":4096}],[{"start":{"row":251,"column":12},"end":{"row":251,"column":13},"action":"insert","lines":["s"],"id":4097},{"start":{"row":251,"column":13},"end":{"row":251,"column":14},"action":"insert","lines":["h"]},{"start":{"row":251,"column":14},"end":{"row":251,"column":15},"action":"insert","lines":["o"]},{"start":{"row":251,"column":15},"end":{"row":251,"column":16},"action":"insert","lines":["w"]},{"start":{"row":251,"column":16},"end":{"row":251,"column":17},"action":"insert","lines":["_"]},{"start":{"row":251,"column":17},"end":{"row":251,"column":18},"action":"insert","lines":["l"]},{"start":{"row":251,"column":18},"end":{"row":251,"column":19},"action":"insert","lines":["i"]},{"start":{"row":251,"column":19},"end":{"row":251,"column":20},"action":"insert","lines":["n"]},{"start":{"row":251,"column":20},"end":{"row":251,"column":21},"action":"insert","lines":["e"]},{"start":{"row":251,"column":21},"end":{"row":251,"column":22},"action":"insert","lines":["_"]},{"start":{"row":251,"column":22},"end":{"row":251,"column":23},"action":"insert","lines":["g"]}],[{"start":{"row":251,"column":23},"end":{"row":251,"column":24},"action":"insert","lines":["r"],"id":4098},{"start":{"row":251,"column":24},"end":{"row":251,"column":25},"action":"insert","lines":["a"]},{"start":{"row":251,"column":25},"end":{"row":251,"column":26},"action":"insert","lines":["p"]},{"start":{"row":251,"column":26},"end":{"row":251,"column":27},"action":"insert","lines":["h"]},{"start":{"row":251,"column":27},"end":{"row":251,"column":28},"action":"insert","lines":["s"]}],[{"start":{"row":251,"column":28},"end":{"row":251,"column":29},"action":"insert","lines":[" "],"id":4099},{"start":{"row":251,"column":29},"end":{"row":251,"column":30},"action":"insert","lines":["f"]},{"start":{"row":251,"column":30},"end":{"row":251,"column":31},"action":"insert","lines":["u"]},{"start":{"row":251,"column":31},"end":{"row":251,"column":32},"action":"insert","lines":["n"]},{"start":{"row":251,"column":32},"end":{"row":251,"column":33},"action":"insert","lines":["c"]},{"start":{"row":251,"column":33},"end":{"row":251,"column":34},"action":"insert","lines":["t"]},{"start":{"row":251,"column":34},"end":{"row":251,"column":35},"action":"insert","lines":["i"]},{"start":{"row":251,"column":35},"end":{"row":251,"column":36},"action":"insert","lines":["o"]},{"start":{"row":251,"column":36},"end":{"row":251,"column":37},"action":"insert","lines":["n"]}],[{"start":{"row":24,"column":50},"end":{"row":25,"column":0},"action":"insert","lines":["",""],"id":4100},{"start":{"row":25,"column":0},"end":{"row":25,"column":1},"action":"insert","lines":[" "]},{"start":{"row":25,"column":1},"end":{"row":25,"column":2},"action":"insert","lines":["s"]},{"start":{"row":25,"column":2},"end":{"row":25,"column":3},"action":"insert","lines":["h"]},{"start":{"row":25,"column":3},"end":{"row":25,"column":4},"action":"insert","lines":["o"]},{"start":{"row":25,"column":4},"end":{"row":25,"column":5},"action":"insert","lines":["w"]},{"start":{"row":25,"column":5},"end":{"row":25,"column":6},"action":"insert","lines":[")"]},{"start":{"row":25,"column":6},"end":{"row":25,"column":7},"action":"insert","lines":["l"]},{"start":{"row":25,"column":7},"end":{"row":25,"column":8},"action":"insert","lines":["i"]},{"start":{"row":25,"column":8},"end":{"row":25,"column":9},"action":"insert","lines":["n"]},{"start":{"row":25,"column":9},"end":{"row":25,"column":10},"action":"insert","lines":["e"]}],[{"start":{"row":25,"column":9},"end":{"row":25,"column":10},"action":"remove","lines":["e"],"id":4101},{"start":{"row":25,"column":8},"end":{"row":25,"column":9},"action":"remove","lines":["n"]},{"start":{"row":25,"column":7},"end":{"row":25,"column":8},"action":"remove","lines":["i"]},{"start":{"row":25,"column":6},"end":{"row":25,"column":7},"action":"remove","lines":["l"]},{"start":{"row":25,"column":5},"end":{"row":25,"column":6},"action":"remove","lines":[")"]}],[{"start":{"row":25,"column":5},"end":{"row":25,"column":6},"action":"insert","lines":[")"],"id":4102},{"start":{"row":25,"column":6},"end":{"row":25,"column":7},"action":"insert","lines":["l"]},{"start":{"row":25,"column":7},"end":{"row":25,"column":8},"action":"insert","lines":["i"]}],[{"start":{"row":25,"column":7},"end":{"row":25,"column":8},"action":"remove","lines":["i"],"id":4103},{"start":{"row":25,"column":6},"end":{"row":25,"column":7},"action":"remove","lines":["l"]},{"start":{"row":25,"column":5},"end":{"row":25,"column":6},"action":"remove","lines":[")"]}],[{"start":{"row":25,"column":5},"end":{"row":25,"column":6},"action":"insert","lines":["_"],"id":4104},{"start":{"row":25,"column":6},"end":{"row":25,"column":7},"action":"insert","lines":["l"]},{"start":{"row":25,"column":7},"end":{"row":25,"column":8},"action":"insert","lines":["i"]},{"start":{"row":25,"column":8},"end":{"row":25,"column":9},"action":"insert","lines":["n"]},{"start":{"row":25,"column":9},"end":{"row":25,"column":10},"action":"insert","lines":["e"]},{"start":{"row":25,"column":10},"end":{"row":25,"column":11},"action":"insert","lines":["_"]},{"start":{"row":25,"column":11},"end":{"row":25,"column":12},"action":"insert","lines":["g"]},{"start":{"row":25,"column":12},"end":{"row":25,"column":13},"action":"insert","lines":["r"]},{"start":{"row":25,"column":13},"end":{"row":25,"column":14},"action":"insert","lines":["a"]},{"start":{"row":25,"column":14},"end":{"row":25,"column":15},"action":"insert","lines":["p"]},{"start":{"row":25,"column":15},"end":{"row":25,"column":16},"action":"insert","lines":["h"]}],[{"start":{"row":25,"column":16},"end":{"row":25,"column":17},"action":"insert","lines":["s"],"id":4105}],[{"start":{"row":25,"column":17},"end":{"row":25,"column":19},"action":"insert","lines":["()"],"id":4106}],[{"start":{"row":25,"column":18},"end":{"row":25,"column":19},"action":"insert","lines":["t"],"id":4107},{"start":{"row":25,"column":19},"end":{"row":25,"column":20},"action":"insert","lines":["r"]},{"start":{"row":25,"column":20},"end":{"row":25,"column":21},"action":"insert","lines":["a"]},{"start":{"row":25,"column":21},"end":{"row":25,"column":22},"action":"insert","lines":["n"]}],[{"start":{"row":25,"column":22},"end":{"row":25,"column":23},"action":"insert","lines":["s"],"id":4108},{"start":{"row":25,"column":23},"end":{"row":25,"column":24},"action":"insert","lines":["a"]},{"start":{"row":25,"column":24},"end":{"row":25,"column":25},"action":"insert","lines":["c"]},{"start":{"row":25,"column":25},"end":{"row":25,"column":26},"action":"insert","lines":["t"]},{"start":{"row":25,"column":26},"end":{"row":25,"column":27},"action":"insert","lines":["i"]},{"start":{"row":25,"column":27},"end":{"row":25,"column":28},"action":"insert","lines":["o"]},{"start":{"row":25,"column":28},"end":{"row":25,"column":29},"action":"insert","lines":["n"]},{"start":{"row":25,"column":29},"end":{"row":25,"column":30},"action":"insert","lines":["C"]},{"start":{"row":25,"column":30},"end":{"row":25,"column":31},"action":"insert","lines":["r"]},{"start":{"row":25,"column":31},"end":{"row":25,"column":32},"action":"insert","lines":["o"]}],[{"start":{"row":25,"column":32},"end":{"row":25,"column":33},"action":"insert","lines":["s"],"id":4109},{"start":{"row":25,"column":33},"end":{"row":25,"column":34},"action":"insert","lines":["s"]},{"start":{"row":25,"column":34},"end":{"row":25,"column":35},"action":"insert","lines":["F"]},{"start":{"row":25,"column":35},"end":{"row":25,"column":36},"action":"insert","lines":["i"]},{"start":{"row":25,"column":36},"end":{"row":25,"column":37},"action":"insert","lines":["l"]},{"start":{"row":25,"column":37},"end":{"row":25,"column":38},"action":"insert","lines":["t"]},{"start":{"row":25,"column":38},"end":{"row":25,"column":39},"action":"insert","lines":["e"]},{"start":{"row":25,"column":39},"end":{"row":25,"column":40},"action":"insert","lines":["r"]}],[{"start":{"row":25,"column":41},"end":{"row":25,"column":42},"action":"insert","lines":[";"],"id":4110}],[{"start":{"row":66,"column":50},"end":{"row":67,"column":0},"action":"insert","lines":["",""],"id":4111},{"start":{"row":67,"column":0},"end":{"row":67,"column":1},"action":"insert","lines":[" "]},{"start":{"row":67,"column":1},"end":{"row":68,"column":0},"action":"insert","lines":["",""]},{"start":{"row":68,"column":0},"end":{"row":68,"column":1},"action":"insert","lines":[" "]}],[{"start":{"row":68,"column":1},"end":{"row":68,"column":56},"action":"insert","lines":[" let transactionCrossFilter = crossfilter(uvIndexData);"],"id":4112}],[{"start":{"row":68,"column":56},"end":{"row":69,"column":0},"action":"insert","lines":["",""],"id":4113},{"start":{"row":69,"column":0},"end":{"row":69,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":68,"column":0},"end":{"row":68,"column":56},"action":"remove","lines":["  let transactionCrossFilter = crossfilter(uvIndexData);"],"id":4114},{"start":{"row":67,"column":1},"end":{"row":68,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":7,"column":12},"end":{"row":8,"column":0},"action":"insert","lines":["",""],"id":4115}],[{"start":{"row":8,"column":0},"end":{"row":8,"column":3},"action":"insert","lines":["// "],"id":4116}],[{"start":{"row":8,"column":2},"end":{"row":8,"column":3},"action":"remove","lines":[" "],"id":4117},{"start":{"row":8,"column":1},"end":{"row":8,"column":2},"action":"remove","lines":["/"]}],[{"start":{"row":8,"column":1},"end":{"row":8,"column":2},"action":"insert","lines":["*"],"id":4118},{"start":{"row":8,"column":2},"end":{"row":8,"column":3},"action":"insert","lines":["g"]},{"start":{"row":8,"column":3},"end":{"row":8,"column":4},"action":"insert","lines":["l"]},{"start":{"row":8,"column":4},"end":{"row":8,"column":5},"action":"insert","lines":["o"]},{"start":{"row":8,"column":5},"end":{"row":8,"column":6},"action":"insert","lines":["b"]},{"start":{"row":8,"column":6},"end":{"row":8,"column":7},"action":"insert","lines":["a"]},{"start":{"row":8,"column":7},"end":{"row":8,"column":8},"action":"insert","lines":["l"]}],[{"start":{"row":8,"column":8},"end":{"row":8,"column":9},"action":"insert","lines":[" "],"id":4119},{"start":{"row":8,"column":9},"end":{"row":8,"column":10},"action":"insert","lines":["u"]},{"start":{"row":8,"column":10},"end":{"row":8,"column":11},"action":"insert","lines":["v"]},{"start":{"row":8,"column":11},"end":{"row":8,"column":12},"action":"insert","lines":["I"]},{"start":{"row":8,"column":12},"end":{"row":8,"column":13},"action":"insert","lines":["n"]},{"start":{"row":8,"column":13},"end":{"row":8,"column":14},"action":"insert","lines":["d"]},{"start":{"row":8,"column":14},"end":{"row":8,"column":15},"action":"insert","lines":["e"]},{"start":{"row":8,"column":15},"end":{"row":8,"column":16},"action":"insert","lines":["x"]}],[{"start":{"row":8,"column":16},"end":{"row":8,"column":17},"action":"insert","lines":["D"],"id":4120},{"start":{"row":8,"column":17},"end":{"row":8,"column":18},"action":"insert","lines":["a"]},{"start":{"row":8,"column":18},"end":{"row":8,"column":19},"action":"insert","lines":["t"]},{"start":{"row":8,"column":19},"end":{"row":8,"column":20},"action":"insert","lines":["a"]},{"start":{"row":8,"column":20},"end":{"row":8,"column":21},"action":"insert","lines":["*"]}],[{"start":{"row":8,"column":21},"end":{"row":8,"column":22},"action":"insert","lines":["/"],"id":4121}],[{"start":{"row":70,"column":0},"end":{"row":73,"column":6},"action":"remove","lines":["    let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });"],"id":4122}],[{"start":{"row":26,"column":42},"end":{"row":27,"column":0},"action":"insert","lines":["",""],"id":4123},{"start":{"row":27,"column":0},"end":{"row":27,"column":1},"action":"insert","lines":[" "]},{"start":{"row":27,"column":1},"end":{"row":28,"column":0},"action":"insert","lines":["",""]},{"start":{"row":28,"column":0},"end":{"row":28,"column":1},"action":"insert","lines":[" "]}],[{"start":{"row":28,"column":1},"end":{"row":31,"column":6},"action":"insert","lines":["    let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });"],"id":4124}],[{"start":{"row":27,"column":1},"end":{"row":28,"column":0},"action":"insert","lines":["",""],"id":4125},{"start":{"row":28,"column":0},"end":{"row":28,"column":1},"action":"insert","lines":[" "]}],[{"start":{"row":29,"column":0},"end":{"row":33,"column":0},"action":"remove","lines":["     let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });",""],"id":4126}],[{"start":{"row":24,"column":0},"end":{"row":25,"column":0},"action":"insert","lines":["",""],"id":4127}],[{"start":{"row":24,"column":0},"end":{"row":25,"column":0},"action":"insert","lines":["",""],"id":4128}],[{"start":{"row":25,"column":0},"end":{"row":29,"column":0},"action":"insert","lines":["     let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });",""],"id":4129}],[{"start":{"row":33,"column":1},"end":{"row":34,"column":1},"action":"remove","lines":[""," "],"id":4130},{"start":{"row":33,"column":1},"end":{"row":34,"column":0},"action":"remove","lines":["",""]},{"start":{"row":33,"column":1},"end":{"row":34,"column":1},"action":"remove","lines":[""," "]},{"start":{"row":33,"column":1},"end":{"row":34,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":72,"column":0},"end":{"row":72,"column":1},"action":"remove","lines":[" "],"id":4131},{"start":{"row":72,"column":0},"end":{"row":73,"column":2},"action":"remove","lines":["","  "]},{"start":{"row":72,"column":0},"end":{"row":73,"column":0},"action":"remove","lines":["",""]},{"start":{"row":72,"column":0},"end":{"row":73,"column":3},"action":"remove","lines":["","   "]},{"start":{"row":72,"column":0},"end":{"row":73,"column":0},"action":"remove","lines":["",""]},{"start":{"row":72,"column":0},"end":{"row":73,"column":1},"action":"remove","lines":[""," "]}],[{"start":{"row":45,"column":18},"end":{"row":46,"column":0},"action":"insert","lines":["",""],"id":4132},{"start":{"row":46,"column":0},"end":{"row":46,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":46,"column":4},"end":{"row":46,"column":19},"action":"insert","lines":[".multiple(true)"],"id":4133}],[{"start":{"row":45,"column":17},"end":{"row":45,"column":18},"action":"remove","lines":[";"],"id":4134}],[{"start":{"row":46,"column":19},"end":{"row":46,"column":20},"action":"insert","lines":[";"],"id":4135}]]},"ace":{"folds":[],"scrolltop":470.1484375,"scrollleft":0,"selection":{"start":{"row":46,"column":20},"end":{"row":46,"column":20},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":31,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1570088037185,"hash":"9c401a5b898489f03e672ec5c6d431d5efe58183"}