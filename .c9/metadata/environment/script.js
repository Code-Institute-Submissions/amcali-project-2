{"filter":false,"title":"script.js","tooltip":"/script.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":221,"column":8},"end":{"row":221,"column":9},"action":"insert","lines":["e"],"id":4078},{"start":{"row":221,"column":9},"end":{"row":221,"column":10},"action":"insert","lines":["n"]},{"start":{"row":221,"column":10},"end":{"row":221,"column":11},"action":"insert","lines":["s"]},{"start":{"row":221,"column":11},"end":{"row":221,"column":12},"action":"insert","lines":["i"]},{"start":{"row":221,"column":12},"end":{"row":221,"column":13},"action":"insert","lines":["o"]},{"start":{"row":221,"column":13},"end":{"row":221,"column":14},"action":"insert","lines":["n"]}],[{"start":{"row":226,"column":17},"end":{"row":226,"column":28},"action":"remove","lines":["uv_readings"],"id":4079},{"start":{"row":226,"column":17},"end":{"row":226,"column":18},"action":"insert","lines":["g"]},{"start":{"row":226,"column":18},"end":{"row":226,"column":19},"action":"insert","lines":["r"]},{"start":{"row":226,"column":19},"end":{"row":226,"column":20},"action":"insert","lines":["a"]},{"start":{"row":226,"column":20},"end":{"row":226,"column":21},"action":"insert","lines":["p"]},{"start":{"row":226,"column":21},"end":{"row":226,"column":22},"action":"insert","lines":["h"]}],[{"start":{"row":226,"column":21},"end":{"row":226,"column":22},"action":"remove","lines":["h"],"id":4080},{"start":{"row":226,"column":20},"end":{"row":226,"column":21},"action":"remove","lines":["p"]},{"start":{"row":226,"column":19},"end":{"row":226,"column":20},"action":"remove","lines":["a"]},{"start":{"row":226,"column":18},"end":{"row":226,"column":19},"action":"remove","lines":["r"]},{"start":{"row":226,"column":17},"end":{"row":226,"column":18},"action":"remove","lines":["g"]}],[{"start":{"row":226,"column":17},"end":{"row":226,"column":18},"action":"insert","lines":["g"],"id":4081},{"start":{"row":226,"column":18},"end":{"row":226,"column":19},"action":"insert","lines":["r"]},{"start":{"row":226,"column":19},"end":{"row":226,"column":20},"action":"insert","lines":["a"]},{"start":{"row":226,"column":20},"end":{"row":226,"column":21},"action":"insert","lines":["p"]},{"start":{"row":226,"column":21},"end":{"row":226,"column":22},"action":"insert","lines":["h"]},{"start":{"row":226,"column":22},"end":{"row":226,"column":23},"action":"insert","lines":["s"]}],[{"start":{"row":226,"column":23},"end":{"row":226,"column":24},"action":"insert","lines":[" "],"id":4082},{"start":{"row":226,"column":24},"end":{"row":226,"column":25},"action":"insert","lines":["b"]}],[{"start":{"row":226,"column":24},"end":{"row":226,"column":25},"action":"remove","lines":["b"],"id":4083},{"start":{"row":226,"column":23},"end":{"row":226,"column":24},"action":"remove","lines":[" "]}],[{"start":{"row":226,"column":23},"end":{"row":226,"column":24},"action":"insert","lines":["_"],"id":4084},{"start":{"row":226,"column":24},"end":{"row":226,"column":25},"action":"insert","lines":["b"]},{"start":{"row":226,"column":25},"end":{"row":226,"column":26},"action":"insert","lines":["y"]},{"start":{"row":226,"column":26},"end":{"row":226,"column":27},"action":"insert","lines":["_"]},{"start":{"row":226,"column":27},"end":{"row":226,"column":28},"action":"insert","lines":["c"]},{"start":{"row":226,"column":28},"end":{"row":226,"column":29},"action":"insert","lines":["i"]},{"start":{"row":226,"column":29},"end":{"row":226,"column":30},"action":"insert","lines":["t"]},{"start":{"row":226,"column":30},"end":{"row":226,"column":31},"action":"insert","lines":["y"]}],[{"start":{"row":27,"column":0},"end":{"row":210,"column":26},"action":"remove","lines":["   let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });","   ",""," ","    //Step 2 - ","   // Creating a dimension based on the 'month' property of each data point","","   let month_dim = transactionCrossFilter.dimension(dc.pluck(\"month\"));","","   let uv_reading_per_month = month_dim.group().reduce(","    ","     //Add a fact or data entry","      function(p, v) {","       p.count++;","       p.total += v.uvIndex;","       p.average = p.total / p.count;","       return p;","      },","      ","     //Remove a fact or data entry","      function(p, v) {","      p.count--;","      if (p.count == 0) {","          p.total = 0;","          p.average = 0;","      } else {","          p.total -= v.uvIndex;","          p.average = p.total / p.count;","      }","      return p;","      },     ","     ","      //Initialise the Reducer","      function () {","      return { count: 0, total: 0, average: 0};","      }","   );","   ","   ","   let min_month = month_dim.bottom(1)[0].month;","   let max_month = month_dim.top(1)[0].month;","   ","   // STEP 3 - Do the grouping of dimension by city","   // \"Grouping\" --> summarizing each data point","","    function uv_by_city(city) {","     return function(d) {","         if (d.city === city) {","             return +d.uvIndex;","         } ","         else {","             return 0;","         }","     };","    }",""," ","   ","   // STEP 4 - Do the grouping of dimension by city and color","","  let compositeChart = dc.compositeChart('#line-graph');","  ","  //require 3 arrays. 1: contain over 20 colours; 2: contain all the cities; 3: an array to push all the colours according to each city.","  let cityArray = [","                   //testing the following 3 cities first before adding subsequent cities","                   {\"city\": \"Buenos Aires\", \"color\": '#FF6633'},","                   {\"city\": \"Darwin\", \"color\": '#FFB399'},","                   {\"city\": \"Melbourne\", \"color\": '#FF33FF'},","                   ","                   // {\"city\": \"Sydney\", \"color\": '#FFFF99'},","                   // {\"city\": \"Rio de Janeiro\", \"color\": '#00B3E6'},","                   // {\"city\": \"Vancouver\", \"color\": '#E6B333'},","                   // {\"city\": \"Havana\", \"color\": '#3366E6'},","                   // {\"city\": \"Port Stanley\", \"color\": '#999966'},","                   // {\"city\": \"Paris\", \"color\": \"#99FF99\"},","                   // {\"city\": \"Berlin\", \"color\": \"#80B300\"},","                   // {\"city\": \"Iraklion\", \"color\": \"#B34D4D\"},","                   // {\"city\": \"Tokyo\", \"color\": \"#809900\"},","                   // {\"city\": \"Nairobi\", \"color\": \"#E6B3B3\"},","                   // {\"city\": \"Tananarive\", \"color\": \"#6680B3\"},","                   // {\"city\": \"Maputo\", \"color\": \"#66991A\"},","                   // {\"city\": \"Ulan Bator\", \"color\": \"#FF99E6\"},","                   // {\"city\": \"Wellington\", \"color\": \"#CCFF1A\"},","                   // {\"city\": \"Panama\", \"color\": \"#FF1A66\"},","                   // {\"city\": \"St Petersbourg\", \"color\": \"#E6331A\"},","                   // {\"city\": \"Singapore\", \"color\": \"#33FFCC\"},","                   // {\"city\": \"Cape Town\", \"color\": \"#66994D\"},","                   // {\"city\": \"Palma de Mallorca\", \"color\": \"#B366CC\"},","                   // {\"city\": \"Colombo\", \"color\": \"#4D8000\"},","                   // {\"city\": \"Bangkok\", \"color\": \"#B33300\"},","                   // {\"city\": \"Los Angeles\", \"color\": \"#CC80CC\"},","                   // {\"city\": \"New York\", \"color\": \"#66664D\"},","                   // {\"city\": \"Hanoi\", \"color\": \"#991AFF\"}","                ];  //declaring an array to use when drawing the composite chart","                ","      ","   // let uvOfBuenosAires = month_dim.group().reduceSum(uv_by_city('Buenos Aires'));","   // let uvofDarwin = month_dim.group().reduceSum(uv_by_city('Darwin'));","   ","","","    ","     let chartsOfLineCharts = [];","     for (each_city of cityArray){","     let uvOfCities = month_dim.group().reduceSum(uv_by_city(each_city.city)); //pushes the reduceSum of uv index for each city into the array, and grouped by month","     let c = dc.lineChart(compositeChart)  ","           .colors(each_city.color)         ","           .group(uvOfCities, each_city.city);","         ","         chartsOfLineCharts.push(c);","     ","     }","","    console.log(chartsOfLineCharts);","    ","","   //STEP 5 - drawing the graph scales","","   // let charts = [","   //    dc.lineChart(compositeChart)","   //        .colors('green')","   //        .group(uvOfBuenosAires, 'Buenos Aires'),","   //    dc.lineChart(compositeChart)","   //        .colors('red')","   //        .group(uvofDarwin, 'Darwin'),","      ","           // ];","    ","    ","   ","  compositeChart","    .width(500)","    .height(400)","    .margins({top: 10, right: 50, bottom: 30, left: 50})","    .dimension(month_dim)  ","    .group(uv_reading_per_month)","    .valueAccessor(function (d) {","         return d.value.average;","     })","    .transitionDuration(500)    ","    .x(d3.time.scale().domain([min_month,max_month]))","    .xAxisLabel(\"Month\")","    .yAxisLabel(\"UV Index\")","    .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","    .renderHorizontalGridLines(true)    ","    .compose(chartsOfLineCharts)     //    .compose(charts)","    .brushOn(false)","    .render();          ","          ","    // dc.lineChart(\"#line-graph\")","    // .width(500)","    // .height(400)","    // .margins({top: 10, right: 50, bottom: 30, left: 50})","    // .dimension(month_dim)","    // .group(uv_reading_per_month)","    // .valueAccessor(function (d) {","    //      return d.value.average;","    //  })","    // .transitionDuration(500)","    // .x(d3.time.scale().domain([min_month,max_month]))","    // .xAxisLabel(\"Month\")","    // .yAxisLabel(\"UV Index\")","    // .yAxis().ticks(4);","   ","   // below for bar chart appears, but with wrong presentation of data","   // dc.barChart(\"#line-graph\")","   //  .width(800)","   //  .height(400)","   //  .margins({top:10, right:50, bottom:30, left:50})","   //  .dimension(month_dim)","   //  .group(uv_reading_per_month)","   //  .valueAccessor(function (d) {","   //       return d.value.average;","   //   })","   //  .transitionDuration(500)","   //  .x(d3.scale.ordinal())","   //  .xUnits(dc.units.ordinal)","   //  .elasticY(true)","   //  .xAxisLabel(\"Month\")","   //  .yAxisLabel(\"UV Index\")","   //  .yAxis().ticks(13);"],"id":4085}],[{"start":{"row":65,"column":53},"end":{"row":67,"column":0},"action":"insert","lines":[""," ",""],"id":4086}],[{"start":{"row":66,"column":1},"end":{"row":249,"column":26},"action":"insert","lines":["   let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });","   ",""," ","    //Step 2 - ","   // Creating a dimension based on the 'month' property of each data point","","   let month_dim = transactionCrossFilter.dimension(dc.pluck(\"month\"));","","   let uv_reading_per_month = month_dim.group().reduce(","    ","     //Add a fact or data entry","      function(p, v) {","       p.count++;","       p.total += v.uvIndex;","       p.average = p.total / p.count;","       return p;","      },","      ","     //Remove a fact or data entry","      function(p, v) {","      p.count--;","      if (p.count == 0) {","          p.total = 0;","          p.average = 0;","      } else {","          p.total -= v.uvIndex;","          p.average = p.total / p.count;","      }","      return p;","      },     ","     ","      //Initialise the Reducer","      function () {","      return { count: 0, total: 0, average: 0};","      }","   );","   ","   ","   let min_month = month_dim.bottom(1)[0].month;","   let max_month = month_dim.top(1)[0].month;","   ","   // STEP 3 - Do the grouping of dimension by city","   // \"Grouping\" --> summarizing each data point","","    function uv_by_city(city) {","     return function(d) {","         if (d.city === city) {","             return +d.uvIndex;","         } ","         else {","             return 0;","         }","     };","    }",""," ","   ","   // STEP 4 - Do the grouping of dimension by city and color","","  let compositeChart = dc.compositeChart('#line-graph');","  ","  //require 3 arrays. 1: contain over 20 colours; 2: contain all the cities; 3: an array to push all the colours according to each city.","  let cityArray = [","                   //testing the following 3 cities first before adding subsequent cities","                   {\"city\": \"Buenos Aires\", \"color\": '#FF6633'},","                   {\"city\": \"Darwin\", \"color\": '#FFB399'},","                   {\"city\": \"Melbourne\", \"color\": '#FF33FF'},","                   ","                   // {\"city\": \"Sydney\", \"color\": '#FFFF99'},","                   // {\"city\": \"Rio de Janeiro\", \"color\": '#00B3E6'},","                   // {\"city\": \"Vancouver\", \"color\": '#E6B333'},","                   // {\"city\": \"Havana\", \"color\": '#3366E6'},","                   // {\"city\": \"Port Stanley\", \"color\": '#999966'},","                   // {\"city\": \"Paris\", \"color\": \"#99FF99\"},","                   // {\"city\": \"Berlin\", \"color\": \"#80B300\"},","                   // {\"city\": \"Iraklion\", \"color\": \"#B34D4D\"},","                   // {\"city\": \"Tokyo\", \"color\": \"#809900\"},","                   // {\"city\": \"Nairobi\", \"color\": \"#E6B3B3\"},","                   // {\"city\": \"Tananarive\", \"color\": \"#6680B3\"},","                   // {\"city\": \"Maputo\", \"color\": \"#66991A\"},","                   // {\"city\": \"Ulan Bator\", \"color\": \"#FF99E6\"},","                   // {\"city\": \"Wellington\", \"color\": \"#CCFF1A\"},","                   // {\"city\": \"Panama\", \"color\": \"#FF1A66\"},","                   // {\"city\": \"St Petersbourg\", \"color\": \"#E6331A\"},","                   // {\"city\": \"Singapore\", \"color\": \"#33FFCC\"},","                   // {\"city\": \"Cape Town\", \"color\": \"#66994D\"},","                   // {\"city\": \"Palma de Mallorca\", \"color\": \"#B366CC\"},","                   // {\"city\": \"Colombo\", \"color\": \"#4D8000\"},","                   // {\"city\": \"Bangkok\", \"color\": \"#B33300\"},","                   // {\"city\": \"Los Angeles\", \"color\": \"#CC80CC\"},","                   // {\"city\": \"New York\", \"color\": \"#66664D\"},","                   // {\"city\": \"Hanoi\", \"color\": \"#991AFF\"}","                ];  //declaring an array to use when drawing the composite chart","                ","      ","   // let uvOfBuenosAires = month_dim.group().reduceSum(uv_by_city('Buenos Aires'));","   // let uvofDarwin = month_dim.group().reduceSum(uv_by_city('Darwin'));","   ","","","    ","     let chartsOfLineCharts = [];","     for (each_city of cityArray){","     let uvOfCities = month_dim.group().reduceSum(uv_by_city(each_city.city)); //pushes the reduceSum of uv index for each city into the array, and grouped by month","     let c = dc.lineChart(compositeChart)  ","           .colors(each_city.color)         ","           .group(uvOfCities, each_city.city);","         ","         chartsOfLineCharts.push(c);","     ","     }","","    console.log(chartsOfLineCharts);","    ","","   //STEP 5 - drawing the graph scales","","   // let charts = [","   //    dc.lineChart(compositeChart)","   //        .colors('green')","   //        .group(uvOfBuenosAires, 'Buenos Aires'),","   //    dc.lineChart(compositeChart)","   //        .colors('red')","   //        .group(uvofDarwin, 'Darwin'),","      ","           // ];","    ","    ","   ","  compositeChart","    .width(500)","    .height(400)","    .margins({top: 10, right: 50, bottom: 30, left: 50})","    .dimension(month_dim)  ","    .group(uv_reading_per_month)","    .valueAccessor(function (d) {","         return d.value.average;","     })","    .transitionDuration(500)    ","    .x(d3.time.scale().domain([min_month,max_month]))","    .xAxisLabel(\"Month\")","    .yAxisLabel(\"UV Index\")","    .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","    .renderHorizontalGridLines(true)    ","    .compose(chartsOfLineCharts)     //    .compose(charts)","    .brushOn(false)","    .render();          ","          ","    // dc.lineChart(\"#line-graph\")","    // .width(500)","    // .height(400)","    // .margins({top: 10, right: 50, bottom: 30, left: 50})","    // .dimension(month_dim)","    // .group(uv_reading_per_month)","    // .valueAccessor(function (d) {","    //      return d.value.average;","    //  })","    // .transitionDuration(500)","    // .x(d3.time.scale().domain([min_month,max_month]))","    // .xAxisLabel(\"Month\")","    // .yAxisLabel(\"UV Index\")","    // .yAxis().ticks(4);","   ","   // below for bar chart appears, but with wrong presentation of data","   // dc.barChart(\"#line-graph\")","   //  .width(800)","   //  .height(400)","   //  .margins({top:10, right:50, bottom:30, left:50})","   //  .dimension(month_dim)","   //  .group(uv_reading_per_month)","   //  .valueAccessor(function (d) {","   //       return d.value.average;","   //   })","   //  .transitionDuration(500)","   //  .x(d3.scale.ordinal())","   //  .xUnits(dc.units.ordinal)","   //  .elasticY(true)","   //  .xAxisLabel(\"Month\")","   //  .yAxisLabel(\"UV Index\")","   //  .yAxis().ticks(13);"],"id":4087}],[{"start":{"row":249,"column":26},"end":{"row":250,"column":0},"action":"insert","lines":["",""],"id":4088},{"start":{"row":250,"column":0},"end":{"row":250,"column":3},"action":"insert","lines":["   "]}],[{"start":{"row":251,"column":1},"end":{"row":251,"column":2},"action":"insert","lines":[" "],"id":4089}],[{"start":{"row":251,"column":2},"end":{"row":251,"column":3},"action":"insert","lines":[" "],"id":4090}],[{"start":{"row":251,"column":3},"end":{"row":251,"column":4},"action":"insert","lines":["/"],"id":4091},{"start":{"row":251,"column":4},"end":{"row":251,"column":5},"action":"insert","lines":["/"]},{"start":{"row":251,"column":5},"end":{"row":251,"column":6},"action":"insert","lines":["r"]}],[{"start":{"row":251,"column":5},"end":{"row":251,"column":6},"action":"remove","lines":["r"],"id":4092}],[{"start":{"row":251,"column":5},"end":{"row":251,"column":6},"action":"insert","lines":["e"],"id":4093},{"start":{"row":251,"column":6},"end":{"row":251,"column":7},"action":"insert","lines":["n"]},{"start":{"row":251,"column":7},"end":{"row":251,"column":8},"action":"insert","lines":["d"]}],[{"start":{"row":251,"column":8},"end":{"row":251,"column":9},"action":"insert","lines":[" "],"id":4094},{"start":{"row":251,"column":9},"end":{"row":251,"column":10},"action":"insert","lines":["o"]},{"start":{"row":251,"column":10},"end":{"row":251,"column":11},"action":"insert","lines":["f"]}],[{"start":{"row":251,"column":11},"end":{"row":251,"column":12},"action":"insert","lines":[" "],"id":4095}],[{"start":{"row":65,"column":0},"end":{"row":65,"column":3},"action":"remove","lines":["// "],"id":4096}],[{"start":{"row":251,"column":12},"end":{"row":251,"column":13},"action":"insert","lines":["s"],"id":4097},{"start":{"row":251,"column":13},"end":{"row":251,"column":14},"action":"insert","lines":["h"]},{"start":{"row":251,"column":14},"end":{"row":251,"column":15},"action":"insert","lines":["o"]},{"start":{"row":251,"column":15},"end":{"row":251,"column":16},"action":"insert","lines":["w"]},{"start":{"row":251,"column":16},"end":{"row":251,"column":17},"action":"insert","lines":["_"]},{"start":{"row":251,"column":17},"end":{"row":251,"column":18},"action":"insert","lines":["l"]},{"start":{"row":251,"column":18},"end":{"row":251,"column":19},"action":"insert","lines":["i"]},{"start":{"row":251,"column":19},"end":{"row":251,"column":20},"action":"insert","lines":["n"]},{"start":{"row":251,"column":20},"end":{"row":251,"column":21},"action":"insert","lines":["e"]},{"start":{"row":251,"column":21},"end":{"row":251,"column":22},"action":"insert","lines":["_"]},{"start":{"row":251,"column":22},"end":{"row":251,"column":23},"action":"insert","lines":["g"]}],[{"start":{"row":251,"column":23},"end":{"row":251,"column":24},"action":"insert","lines":["r"],"id":4098},{"start":{"row":251,"column":24},"end":{"row":251,"column":25},"action":"insert","lines":["a"]},{"start":{"row":251,"column":25},"end":{"row":251,"column":26},"action":"insert","lines":["p"]},{"start":{"row":251,"column":26},"end":{"row":251,"column":27},"action":"insert","lines":["h"]},{"start":{"row":251,"column":27},"end":{"row":251,"column":28},"action":"insert","lines":["s"]}],[{"start":{"row":251,"column":28},"end":{"row":251,"column":29},"action":"insert","lines":[" "],"id":4099},{"start":{"row":251,"column":29},"end":{"row":251,"column":30},"action":"insert","lines":["f"]},{"start":{"row":251,"column":30},"end":{"row":251,"column":31},"action":"insert","lines":["u"]},{"start":{"row":251,"column":31},"end":{"row":251,"column":32},"action":"insert","lines":["n"]},{"start":{"row":251,"column":32},"end":{"row":251,"column":33},"action":"insert","lines":["c"]},{"start":{"row":251,"column":33},"end":{"row":251,"column":34},"action":"insert","lines":["t"]},{"start":{"row":251,"column":34},"end":{"row":251,"column":35},"action":"insert","lines":["i"]},{"start":{"row":251,"column":35},"end":{"row":251,"column":36},"action":"insert","lines":["o"]},{"start":{"row":251,"column":36},"end":{"row":251,"column":37},"action":"insert","lines":["n"]}],[{"start":{"row":24,"column":50},"end":{"row":25,"column":0},"action":"insert","lines":["",""],"id":4100},{"start":{"row":25,"column":0},"end":{"row":25,"column":1},"action":"insert","lines":[" "]},{"start":{"row":25,"column":1},"end":{"row":25,"column":2},"action":"insert","lines":["s"]},{"start":{"row":25,"column":2},"end":{"row":25,"column":3},"action":"insert","lines":["h"]},{"start":{"row":25,"column":3},"end":{"row":25,"column":4},"action":"insert","lines":["o"]},{"start":{"row":25,"column":4},"end":{"row":25,"column":5},"action":"insert","lines":["w"]},{"start":{"row":25,"column":5},"end":{"row":25,"column":6},"action":"insert","lines":[")"]},{"start":{"row":25,"column":6},"end":{"row":25,"column":7},"action":"insert","lines":["l"]},{"start":{"row":25,"column":7},"end":{"row":25,"column":8},"action":"insert","lines":["i"]},{"start":{"row":25,"column":8},"end":{"row":25,"column":9},"action":"insert","lines":["n"]},{"start":{"row":25,"column":9},"end":{"row":25,"column":10},"action":"insert","lines":["e"]}],[{"start":{"row":25,"column":9},"end":{"row":25,"column":10},"action":"remove","lines":["e"],"id":4101},{"start":{"row":25,"column":8},"end":{"row":25,"column":9},"action":"remove","lines":["n"]},{"start":{"row":25,"column":7},"end":{"row":25,"column":8},"action":"remove","lines":["i"]},{"start":{"row":25,"column":6},"end":{"row":25,"column":7},"action":"remove","lines":["l"]},{"start":{"row":25,"column":5},"end":{"row":25,"column":6},"action":"remove","lines":[")"]}],[{"start":{"row":25,"column":5},"end":{"row":25,"column":6},"action":"insert","lines":[")"],"id":4102},{"start":{"row":25,"column":6},"end":{"row":25,"column":7},"action":"insert","lines":["l"]},{"start":{"row":25,"column":7},"end":{"row":25,"column":8},"action":"insert","lines":["i"]}],[{"start":{"row":25,"column":7},"end":{"row":25,"column":8},"action":"remove","lines":["i"],"id":4103},{"start":{"row":25,"column":6},"end":{"row":25,"column":7},"action":"remove","lines":["l"]},{"start":{"row":25,"column":5},"end":{"row":25,"column":6},"action":"remove","lines":[")"]}],[{"start":{"row":25,"column":5},"end":{"row":25,"column":6},"action":"insert","lines":["_"],"id":4104},{"start":{"row":25,"column":6},"end":{"row":25,"column":7},"action":"insert","lines":["l"]},{"start":{"row":25,"column":7},"end":{"row":25,"column":8},"action":"insert","lines":["i"]},{"start":{"row":25,"column":8},"end":{"row":25,"column":9},"action":"insert","lines":["n"]},{"start":{"row":25,"column":9},"end":{"row":25,"column":10},"action":"insert","lines":["e"]},{"start":{"row":25,"column":10},"end":{"row":25,"column":11},"action":"insert","lines":["_"]},{"start":{"row":25,"column":11},"end":{"row":25,"column":12},"action":"insert","lines":["g"]},{"start":{"row":25,"column":12},"end":{"row":25,"column":13},"action":"insert","lines":["r"]},{"start":{"row":25,"column":13},"end":{"row":25,"column":14},"action":"insert","lines":["a"]},{"start":{"row":25,"column":14},"end":{"row":25,"column":15},"action":"insert","lines":["p"]},{"start":{"row":25,"column":15},"end":{"row":25,"column":16},"action":"insert","lines":["h"]}],[{"start":{"row":25,"column":16},"end":{"row":25,"column":17},"action":"insert","lines":["s"],"id":4105}],[{"start":{"row":25,"column":17},"end":{"row":25,"column":19},"action":"insert","lines":["()"],"id":4106}],[{"start":{"row":25,"column":18},"end":{"row":25,"column":19},"action":"insert","lines":["t"],"id":4107},{"start":{"row":25,"column":19},"end":{"row":25,"column":20},"action":"insert","lines":["r"]},{"start":{"row":25,"column":20},"end":{"row":25,"column":21},"action":"insert","lines":["a"]},{"start":{"row":25,"column":21},"end":{"row":25,"column":22},"action":"insert","lines":["n"]}],[{"start":{"row":25,"column":22},"end":{"row":25,"column":23},"action":"insert","lines":["s"],"id":4108},{"start":{"row":25,"column":23},"end":{"row":25,"column":24},"action":"insert","lines":["a"]},{"start":{"row":25,"column":24},"end":{"row":25,"column":25},"action":"insert","lines":["c"]},{"start":{"row":25,"column":25},"end":{"row":25,"column":26},"action":"insert","lines":["t"]},{"start":{"row":25,"column":26},"end":{"row":25,"column":27},"action":"insert","lines":["i"]},{"start":{"row":25,"column":27},"end":{"row":25,"column":28},"action":"insert","lines":["o"]},{"start":{"row":25,"column":28},"end":{"row":25,"column":29},"action":"insert","lines":["n"]},{"start":{"row":25,"column":29},"end":{"row":25,"column":30},"action":"insert","lines":["C"]},{"start":{"row":25,"column":30},"end":{"row":25,"column":31},"action":"insert","lines":["r"]},{"start":{"row":25,"column":31},"end":{"row":25,"column":32},"action":"insert","lines":["o"]}],[{"start":{"row":25,"column":32},"end":{"row":25,"column":33},"action":"insert","lines":["s"],"id":4109},{"start":{"row":25,"column":33},"end":{"row":25,"column":34},"action":"insert","lines":["s"]},{"start":{"row":25,"column":34},"end":{"row":25,"column":35},"action":"insert","lines":["F"]},{"start":{"row":25,"column":35},"end":{"row":25,"column":36},"action":"insert","lines":["i"]},{"start":{"row":25,"column":36},"end":{"row":25,"column":37},"action":"insert","lines":["l"]},{"start":{"row":25,"column":37},"end":{"row":25,"column":38},"action":"insert","lines":["t"]},{"start":{"row":25,"column":38},"end":{"row":25,"column":39},"action":"insert","lines":["e"]},{"start":{"row":25,"column":39},"end":{"row":25,"column":40},"action":"insert","lines":["r"]}],[{"start":{"row":25,"column":41},"end":{"row":25,"column":42},"action":"insert","lines":[";"],"id":4110}],[{"start":{"row":66,"column":50},"end":{"row":67,"column":0},"action":"insert","lines":["",""],"id":4111},{"start":{"row":67,"column":0},"end":{"row":67,"column":1},"action":"insert","lines":[" "]},{"start":{"row":67,"column":1},"end":{"row":68,"column":0},"action":"insert","lines":["",""]},{"start":{"row":68,"column":0},"end":{"row":68,"column":1},"action":"insert","lines":[" "]}],[{"start":{"row":68,"column":1},"end":{"row":68,"column":56},"action":"insert","lines":[" let transactionCrossFilter = crossfilter(uvIndexData);"],"id":4112}],[{"start":{"row":68,"column":56},"end":{"row":69,"column":0},"action":"insert","lines":["",""],"id":4113},{"start":{"row":69,"column":0},"end":{"row":69,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":68,"column":0},"end":{"row":68,"column":56},"action":"remove","lines":["  let transactionCrossFilter = crossfilter(uvIndexData);"],"id":4114},{"start":{"row":67,"column":1},"end":{"row":68,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":7,"column":12},"end":{"row":8,"column":0},"action":"insert","lines":["",""],"id":4115}],[{"start":{"row":8,"column":0},"end":{"row":8,"column":3},"action":"insert","lines":["// "],"id":4116}],[{"start":{"row":8,"column":2},"end":{"row":8,"column":3},"action":"remove","lines":[" "],"id":4117},{"start":{"row":8,"column":1},"end":{"row":8,"column":2},"action":"remove","lines":["/"]}],[{"start":{"row":8,"column":1},"end":{"row":8,"column":2},"action":"insert","lines":["*"],"id":4118},{"start":{"row":8,"column":2},"end":{"row":8,"column":3},"action":"insert","lines":["g"]},{"start":{"row":8,"column":3},"end":{"row":8,"column":4},"action":"insert","lines":["l"]},{"start":{"row":8,"column":4},"end":{"row":8,"column":5},"action":"insert","lines":["o"]},{"start":{"row":8,"column":5},"end":{"row":8,"column":6},"action":"insert","lines":["b"]},{"start":{"row":8,"column":6},"end":{"row":8,"column":7},"action":"insert","lines":["a"]},{"start":{"row":8,"column":7},"end":{"row":8,"column":8},"action":"insert","lines":["l"]}],[{"start":{"row":8,"column":8},"end":{"row":8,"column":9},"action":"insert","lines":[" "],"id":4119},{"start":{"row":8,"column":9},"end":{"row":8,"column":10},"action":"insert","lines":["u"]},{"start":{"row":8,"column":10},"end":{"row":8,"column":11},"action":"insert","lines":["v"]},{"start":{"row":8,"column":11},"end":{"row":8,"column":12},"action":"insert","lines":["I"]},{"start":{"row":8,"column":12},"end":{"row":8,"column":13},"action":"insert","lines":["n"]},{"start":{"row":8,"column":13},"end":{"row":8,"column":14},"action":"insert","lines":["d"]},{"start":{"row":8,"column":14},"end":{"row":8,"column":15},"action":"insert","lines":["e"]},{"start":{"row":8,"column":15},"end":{"row":8,"column":16},"action":"insert","lines":["x"]}],[{"start":{"row":8,"column":16},"end":{"row":8,"column":17},"action":"insert","lines":["D"],"id":4120},{"start":{"row":8,"column":17},"end":{"row":8,"column":18},"action":"insert","lines":["a"]},{"start":{"row":8,"column":18},"end":{"row":8,"column":19},"action":"insert","lines":["t"]},{"start":{"row":8,"column":19},"end":{"row":8,"column":20},"action":"insert","lines":["a"]},{"start":{"row":8,"column":20},"end":{"row":8,"column":21},"action":"insert","lines":["*"]}],[{"start":{"row":8,"column":21},"end":{"row":8,"column":22},"action":"insert","lines":["/"],"id":4121}],[{"start":{"row":70,"column":0},"end":{"row":73,"column":6},"action":"remove","lines":["    let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });"],"id":4122}],[{"start":{"row":26,"column":42},"end":{"row":27,"column":0},"action":"insert","lines":["",""],"id":4123},{"start":{"row":27,"column":0},"end":{"row":27,"column":1},"action":"insert","lines":[" "]},{"start":{"row":27,"column":1},"end":{"row":28,"column":0},"action":"insert","lines":["",""]},{"start":{"row":28,"column":0},"end":{"row":28,"column":1},"action":"insert","lines":[" "]}],[{"start":{"row":28,"column":1},"end":{"row":31,"column":6},"action":"insert","lines":["    let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });"],"id":4124}],[{"start":{"row":27,"column":1},"end":{"row":28,"column":0},"action":"insert","lines":["",""],"id":4125},{"start":{"row":28,"column":0},"end":{"row":28,"column":1},"action":"insert","lines":[" "]}],[{"start":{"row":29,"column":0},"end":{"row":33,"column":0},"action":"remove","lines":["     let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });",""],"id":4126}],[{"start":{"row":24,"column":0},"end":{"row":25,"column":0},"action":"insert","lines":["",""],"id":4127}],[{"start":{"row":24,"column":0},"end":{"row":25,"column":0},"action":"insert","lines":["",""],"id":4128}],[{"start":{"row":25,"column":0},"end":{"row":29,"column":0},"action":"insert","lines":["     let parseDate = d3.time.format(\"%b\").parse;","   uvIndexData.forEach(function(d){","      d.month = parseDate(d.month);","   });",""],"id":4129}],[{"start":{"row":33,"column":1},"end":{"row":34,"column":1},"action":"remove","lines":[""," "],"id":4130},{"start":{"row":33,"column":1},"end":{"row":34,"column":0},"action":"remove","lines":["",""]},{"start":{"row":33,"column":1},"end":{"row":34,"column":1},"action":"remove","lines":[""," "]},{"start":{"row":33,"column":1},"end":{"row":34,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":72,"column":0},"end":{"row":72,"column":1},"action":"remove","lines":[" "],"id":4131},{"start":{"row":72,"column":0},"end":{"row":73,"column":2},"action":"remove","lines":["","  "]},{"start":{"row":72,"column":0},"end":{"row":73,"column":0},"action":"remove","lines":["",""]},{"start":{"row":72,"column":0},"end":{"row":73,"column":3},"action":"remove","lines":["","   "]},{"start":{"row":72,"column":0},"end":{"row":73,"column":0},"action":"remove","lines":["",""]},{"start":{"row":72,"column":0},"end":{"row":73,"column":1},"action":"remove","lines":[""," "]}],[{"start":{"row":45,"column":18},"end":{"row":46,"column":0},"action":"insert","lines":["",""],"id":4132},{"start":{"row":46,"column":0},"end":{"row":46,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":46,"column":4},"end":{"row":46,"column":19},"action":"insert","lines":[".multiple(true)"],"id":4133}],[{"start":{"row":45,"column":17},"end":{"row":45,"column":18},"action":"remove","lines":[";"],"id":4134}],[{"start":{"row":46,"column":19},"end":{"row":46,"column":20},"action":"insert","lines":[";"],"id":4135}],[{"start":{"row":8,"column":22},"end":{"row":9,"column":0},"action":"insert","lines":["",""],"id":4136}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":1},"action":"insert","lines":["?"],"id":4137}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":1},"action":"remove","lines":["?"],"id":4138}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":1},"action":"insert","lines":["/"],"id":4139},{"start":{"row":9,"column":1},"end":{"row":9,"column":2},"action":"insert","lines":["*"]},{"start":{"row":9,"column":2},"end":{"row":9,"column":3},"action":"insert","lines":["g"]},{"start":{"row":9,"column":3},"end":{"row":9,"column":4},"action":"insert","lines":["l"]},{"start":{"row":9,"column":4},"end":{"row":9,"column":5},"action":"insert","lines":["o"]},{"start":{"row":9,"column":5},"end":{"row":9,"column":6},"action":"insert","lines":["b"]},{"start":{"row":9,"column":6},"end":{"row":9,"column":7},"action":"insert","lines":["i"]},{"start":{"row":9,"column":7},"end":{"row":9,"column":8},"action":"insert","lines":["a"]}],[{"start":{"row":9,"column":8},"end":{"row":9,"column":9},"action":"insert","lines":["l"],"id":4140}],[{"start":{"row":9,"column":9},"end":{"row":9,"column":10},"action":"insert","lines":[" "],"id":4141},{"start":{"row":9,"column":10},"end":{"row":9,"column":11},"action":"insert","lines":["m"]},{"start":{"row":9,"column":11},"end":{"row":9,"column":12},"action":"insert","lines":["a"]},{"start":{"row":9,"column":12},"end":{"row":9,"column":13},"action":"insert","lines":["p"]}],[{"start":{"row":9,"column":13},"end":{"row":9,"column":14},"action":"insert","lines":["B"],"id":4142},{"start":{"row":9,"column":14},"end":{"row":9,"column":15},"action":"insert","lines":["o"]}],[{"start":{"row":9,"column":14},"end":{"row":9,"column":15},"action":"remove","lines":["o"],"id":4143},{"start":{"row":9,"column":13},"end":{"row":9,"column":14},"action":"remove","lines":["B"]}],[{"start":{"row":9,"column":13},"end":{"row":9,"column":14},"action":"insert","lines":["b"],"id":4144},{"start":{"row":9,"column":14},"end":{"row":9,"column":15},"action":"insert","lines":["o"]},{"start":{"row":9,"column":15},"end":{"row":9,"column":16},"action":"insert","lines":["x"]}],[{"start":{"row":9,"column":16},"end":{"row":9,"column":17},"action":"insert","lines":["*"],"id":4145},{"start":{"row":9,"column":17},"end":{"row":9,"column":18},"action":"insert","lines":["/"]}],[{"start":{"row":9,"column":18},"end":{"row":10,"column":0},"action":"insert","lines":["",""],"id":4146},{"start":{"row":10,"column":0},"end":{"row":11,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":11,"column":0},"end":{"row":11,"column":22},"action":"insert","lines":["mapboxgl.accessToken ="],"id":4147}],[{"start":{"row":9,"column":16},"end":{"row":9,"column":17},"action":"insert","lines":["g"],"id":4148},{"start":{"row":9,"column":17},"end":{"row":9,"column":18},"action":"insert","lines":["l"]}],[{"start":{"row":9,"column":6},"end":{"row":9,"column":7},"action":"remove","lines":["i"],"id":4149}],[{"start":{"row":11,"column":22},"end":{"row":11,"column":23},"action":"insert","lines":[" "],"id":4150}],[{"start":{"row":11,"column":23},"end":{"row":11,"column":25},"action":"insert","lines":["''"],"id":4151}],[{"start":{"row":11,"column":24},"end":{"row":11,"column":112},"action":"insert","lines":["pk.eyJ1IjoiYW1jYWxpIiwiYSI6ImNrMHl4OXMybjBidjYzb293eTZqYXloamQifQ.i3OLQpsT9U8OkRgQU7kNDw"],"id":4152}],[{"start":{"row":11,"column":113},"end":{"row":11,"column":114},"action":"insert","lines":[";"],"id":4153}],[{"start":{"row":13,"column":0},"end":{"row":19,"column":3},"action":"insert","lines":["// add the code below:","var map = new mapboxgl.Map({","  container: 'map', // #1 HTML container id","  style: 'mapbox://styles/mapbox/streets-v9', // style URL","  center: [-21.9270884, 64.1436456], // #2 starting position as [lng, lat]","  zoom: 13","});"],"id":4154}],[{"start":{"row":13,"column":3},"end":{"row":13,"column":21},"action":"remove","lines":["add the code below"],"id":4155},{"start":{"row":13,"column":3},"end":{"row":13,"column":4},"action":"insert","lines":["a"]},{"start":{"row":13,"column":4},"end":{"row":13,"column":5},"action":"insert","lines":["d"]},{"start":{"row":13,"column":5},"end":{"row":13,"column":6},"action":"insert","lines":["d"]},{"start":{"row":13,"column":6},"end":{"row":13,"column":7},"action":"insert","lines":["i"]},{"start":{"row":13,"column":7},"end":{"row":13,"column":8},"action":"insert","lines":["n"]},{"start":{"row":13,"column":8},"end":{"row":13,"column":9},"action":"insert","lines":["g"]}],[{"start":{"row":13,"column":9},"end":{"row":13,"column":10},"action":"insert","lines":[" "],"id":4156},{"start":{"row":13,"column":10},"end":{"row":13,"column":11},"action":"insert","lines":["m"]},{"start":{"row":13,"column":11},"end":{"row":13,"column":12},"action":"insert","lines":["y"]}],[{"start":{"row":13,"column":11},"end":{"row":13,"column":12},"action":"remove","lines":["y"],"id":4157}],[{"start":{"row":13,"column":11},"end":{"row":13,"column":12},"action":"insert","lines":["a"],"id":4158},{"start":{"row":13,"column":12},"end":{"row":13,"column":13},"action":"insert","lines":["p"]}],[{"start":{"row":13,"column":13},"end":{"row":13,"column":14},"action":"insert","lines":[" "],"id":4159},{"start":{"row":13,"column":14},"end":{"row":13,"column":15},"action":"insert","lines":["f"]},{"start":{"row":13,"column":15},"end":{"row":13,"column":16},"action":"insert","lines":["r"]},{"start":{"row":13,"column":16},"end":{"row":13,"column":17},"action":"insert","lines":["o"]},{"start":{"row":13,"column":17},"end":{"row":13,"column":18},"action":"insert","lines":["m"]}],[{"start":{"row":13,"column":18},"end":{"row":13,"column":19},"action":"insert","lines":[" "],"id":4160},{"start":{"row":13,"column":19},"end":{"row":13,"column":20},"action":"insert","lines":["m"]}],[{"start":{"row":13,"column":20},"end":{"row":13,"column":21},"action":"insert","lines":["a"],"id":4161},{"start":{"row":13,"column":21},"end":{"row":13,"column":22},"action":"insert","lines":["p"]}],[{"start":{"row":13,"column":21},"end":{"row":13,"column":22},"action":"remove","lines":["p"],"id":4162},{"start":{"row":13,"column":20},"end":{"row":13,"column":21},"action":"remove","lines":["a"]},{"start":{"row":13,"column":19},"end":{"row":13,"column":20},"action":"remove","lines":["m"]},{"start":{"row":13,"column":18},"end":{"row":13,"column":19},"action":"remove","lines":[" "]}],[{"start":{"row":13,"column":18},"end":{"row":13,"column":19},"action":"insert","lines":[" "],"id":4163},{"start":{"row":13,"column":19},"end":{"row":13,"column":20},"action":"insert","lines":["M"]},{"start":{"row":13,"column":20},"end":{"row":13,"column":21},"action":"insert","lines":["a"]},{"start":{"row":13,"column":21},"end":{"row":13,"column":22},"action":"insert","lines":["b"]}],[{"start":{"row":13,"column":21},"end":{"row":13,"column":22},"action":"remove","lines":["b"],"id":4164}],[{"start":{"row":13,"column":21},"end":{"row":13,"column":22},"action":"insert","lines":["p"],"id":4165},{"start":{"row":13,"column":22},"end":{"row":13,"column":23},"action":"insert","lines":["b"]},{"start":{"row":13,"column":23},"end":{"row":13,"column":24},"action":"insert","lines":["o"]},{"start":{"row":13,"column":24},"end":{"row":13,"column":25},"action":"insert","lines":["x"]}],[{"start":{"row":13,"column":25},"end":{"row":13,"column":26},"action":"remove","lines":[":"],"id":4166}],[{"start":{"row":13,"column":0},"end":{"row":13,"column":1},"action":"insert","lines":[" "],"id":4167},{"start":{"row":14,"column":0},"end":{"row":14,"column":1},"action":"insert","lines":[" "]}],[{"start":{"row":13,"column":0},"end":{"row":13,"column":1},"action":"insert","lines":[" "],"id":4168},{"start":{"row":14,"column":0},"end":{"row":14,"column":1},"action":"insert","lines":[" "]}],[{"start":{"row":13,"column":0},"end":{"row":19,"column":3},"action":"remove","lines":["  // adding map from Mapbox","  var map = new mapboxgl.Map({","  container: 'map', // #1 HTML container id","  style: 'mapbox://styles/mapbox/streets-v9', // style URL","  center: [-21.9270884, 64.1436456], // #2 starting position as [lng, lat]","  zoom: 13","});"],"id":4169}],[{"start":{"row":13,"column":0},"end":{"row":14,"column":0},"action":"remove","lines":["",""],"id":4170},{"start":{"row":13,"column":0},"end":{"row":14,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":257,"column":2},"end":{"row":257,"column":3},"action":"remove","lines":[" "],"id":4171},{"start":{"row":257,"column":1},"end":{"row":257,"column":2},"action":"remove","lines":[" "]},{"start":{"row":257,"column":0},"end":{"row":257,"column":1},"action":"remove","lines":[" "]}],[{"start":{"row":257,"column":0},"end":{"row":263,"column":3},"action":"insert","lines":["  // adding map from Mapbox","  var map = new mapboxgl.Map({","  container: 'map', // #1 HTML container id","  style: 'mapbox://styles/mapbox/streets-v9', // style URL","  center: [-21.9270884, 64.1436456], // #2 starting position as [lng, lat]","  zoom: 13","});"],"id":4172}],[{"start":{"row":257,"column":1},"end":{"row":257,"column":2},"action":"remove","lines":[" "],"id":4173},{"start":{"row":257,"column":0},"end":{"row":257,"column":1},"action":"remove","lines":[" "]},{"start":{"row":256,"column":0},"end":{"row":257,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":256,"column":0},"end":{"row":257,"column":0},"action":"insert","lines":["",""],"id":4174}],[{"start":{"row":263,"column":3},"end":{"row":264,"column":0},"action":"insert","lines":["",""],"id":4175},{"start":{"row":264,"column":0},"end":{"row":265,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":265,"column":0},"end":{"row":265,"column":1},"action":"insert","lines":["m"],"id":4176},{"start":{"row":265,"column":1},"end":{"row":265,"column":2},"action":"insert","lines":["a"]},{"start":{"row":265,"column":2},"end":{"row":265,"column":3},"action":"insert","lines":["p"]}],[{"start":{"row":265,"column":3},"end":{"row":265,"column":4},"action":"insert","lines":[";"],"id":4177}],[{"start":{"row":265,"column":0},"end":{"row":265,"column":4},"action":"remove","lines":["map;"],"id":4178},{"start":{"row":264,"column":0},"end":{"row":265,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":3426.9765625,"scrollleft":0,"selection":{"start":{"row":260,"column":58},"end":{"row":260,"column":58},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":4,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1570096185622,"hash":"45def177aaa09db5bb8cc016ec0e5ee6191eea48"}